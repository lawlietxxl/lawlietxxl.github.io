<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://blog.lawlietxxl.site').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="记录leetcode里面facebook标签的题目，耗时，代码，时间空间占比.格式为： 12345# [题号]. 题目名（链接）## [时间占比] [空间占比] 解题耗时[源码][解释]  源码中如果提交有错误，会标记  &#x2F;&#x2F;bugfix">
<meta property="og:type" content="article">
<meta property="og:title" content="facebook problems">
<meta property="og:url" content="https://blog.lawlietxxl.site/facebook-problems.html">
<meta property="og:site_name" content="lawlietxxl&#39;s blog">
<meta property="og:description" content="记录leetcode里面facebook标签的题目，耗时，代码，时间空间占比.格式为： 12345# [题号]. 题目名（链接）## [时间占比] [空间占比] 解题耗时[源码][解释]  源码中如果提交有错误，会标记  &#x2F;&#x2F;bugfix">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://blog.lawlietxxl.site/facebook-problems/301.png">
<meta property="og:image" content="https://blog.lawlietxxl.site/facebook-problems/56.png">
<meta property="og:image" content="https://blog.lawlietxxl.site/facebook-problems/31.png">
<meta property="article:published_time" content="2019-10-03T06:30:05.000Z">
<meta property="article:modified_time" content="2020-02-23T12:02:31.249Z">
<meta property="article:author" content="lawlietxxl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://blog.lawlietxxl.site/facebook-problems/301.png">

<link rel="canonical" href="https://blog.lawlietxxl.site/facebook-problems.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>facebook problems | lawlietxxl's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">lawlietxxl's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.lawlietxxl.site/facebook-problems.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="lawlietxxl">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="lawlietxxl's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          facebook problems
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-10-03 14:30:05" itemprop="dateCreated datePublished" datetime="2019-10-03T14:30:05+08:00">2019-10-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-23 20:02:31" itemprop="dateModified" datetime="2020-02-23T20:02:31+08:00">2020-02-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode-facebook/" itemprop="url" rel="index">
                    <span itemprop="name">leetcode facebook</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/facebook-problems.html#comments" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="facebook-problems.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>记录leetcode里面facebook标签的题目，耗时，代码，时间空间占比.<br>格式为：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># [题号]. 题目名（链接）</span></span><br><span class="line"></span><br><span class="line"><span class="section">## [时间占比] [空间占比] 解题耗时</span></span><br><span class="line">[源码]</span><br><span class="line">[解释]</span><br></pre></td></tr></table></figure>

<p>源码中如果提交有错误，会标记  //bugfix</p>
<a id="more"></a>

<h1 id="HARD"><a href="#HARD" class="headerlink" title="HARD"></a>HARD</h1><h2 id="158-Read-N-Characters-Given-Read4-II-Call-multiple-times"><a href="#158-Read-N-Characters-Given-Read4-II-Call-multiple-times" class="headerlink" title="158. Read N Characters Given Read4 II - Call multiple times"></a><a href="https://leetcode.com/problems/read-n-characters-given-read4-ii-call-multiple-times/" target="_blank" rel="noopener">158. Read N Characters Given Read4 II - Call multiple times</a></h2><h3 id="100-00-100-00-60mins"><a href="#100-00-100-00-60mins" class="headerlink" title="100.00% 100.00% 60mins"></a>100.00% 100.00% 60mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The read4 API is defined in the parent class Reader4.</span></span><br><span class="line"><span class="comment"> *     int read4(char[] buf); </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Reader4</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> buf Destination buffer</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> n   Number of characters to read</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>    The number of actual characters read</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">char</span>[] innerBuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> innerOffset = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> innerLength = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> EOF = <span class="keyword">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span>[] buf, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// result, n, innerOffset, readFromInner</span></span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">0</span> || EOF) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> bufOffset = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// read from innerBuffer</span></span><br><span class="line">        <span class="keyword">int</span> min;</span><br><span class="line">        min = Math.min(innerLength - innerOffset, n);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; min; i ++)&#123;</span><br><span class="line">            buf[bufOffset++] = innerBuf[innerOffset++];</span><br><span class="line">        &#125;</span><br><span class="line">        n -= min;</span><br><span class="line">        <span class="keyword">if</span>(innerOffset == innerLength)&#123;</span><br><span class="line">            innerOffset = <span class="number">0</span>;</span><br><span class="line">            innerLength = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">return</span> bufOffset;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// read from file</span></span><br><span class="line">        <span class="keyword">int</span> iter = n/<span class="number">4</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iter; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmpResult = read4(innerBuf);</span><br><span class="line">            copyArray(buf, bufOffset, innerBuf, <span class="number">0</span>, tmpResult);</span><br><span class="line">            n -= tmpResult;</span><br><span class="line">            bufOffset += tmpResult;</span><br><span class="line">            <span class="keyword">if</span>(tmpResult &lt; <span class="number">4</span>)&#123;</span><br><span class="line">                EOF = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">return</span> bufOffset;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>) <span class="keyword">return</span> bufOffset;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// write to innerBuffer</span></span><br><span class="line">        <span class="comment">// left is n</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//bugfix 没考虑tmpResult为0的情况</span></span><br><span class="line">        <span class="keyword">int</span> tmpResult = read4(innerBuf);</span><br><span class="line">        min = Math.min(tmpResult, n);</span><br><span class="line">        copyArray(buf, bufOffset, innerBuf, <span class="number">0</span>, min);</span><br><span class="line">        bufOffset += min;</span><br><span class="line">        <span class="keyword">if</span>(tmpResult &lt;= n)&#123;</span><br><span class="line">            EOF = <span class="keyword">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            innerOffset = n;</span><br><span class="line">            innerLength = tmpResult;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> bufOffset;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">copyArray</span><span class="params">(<span class="keyword">char</span>[] dest, <span class="keyword">int</span> destOffset, <span class="keyword">char</span>[] src, <span class="keyword">int</span> srcOffset, <span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i ++)&#123;</span><br><span class="line">            dest[destOffset + i] = src[srcOffset + i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有一次提交错误，存在bug，最后的时候没考虑tmpResult为0的情况，导致innerLength设置为0了。<br>思路：</p>
<ul>
<li>设置内部缓存，同时记录缓存offset和缓存长度</li>
<li>顺序为先读缓存，再读文件，最后再写缓存。注意更新各种本地变量<br>感觉有点像tcp协议操作系统之类的实现</li>
</ul>
<h2 id="23-Merge-k-Sorted-Lists"><a href="#23-Merge-k-Sorted-Lists" class="headerlink" title="23. Merge k Sorted Lists"></a><a href="https://leetcode.com/problems/merge-k-sorted-lists/" target="_blank" rel="noopener">23. Merge k Sorted Lists</a></h2><h3 id="98-74-27-33-18mins"><a href="#98-74-27-33-18mins" class="headerlink" title="98.74 27.33 18mins"></a>98.74 27.33 18mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(lists.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> merge(lists, <span class="number">0</span>, lists.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> ListNode <span class="title">merge</span><span class="params">(ListNode[] lists, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span>&#123;  </span><br><span class="line">        <span class="keyword">if</span>(lo == hi) <span class="keyword">return</span> lists[lo];</span><br><span class="line">        <span class="keyword">int</span> mid = lo + (hi - lo)/<span class="number">2</span>;</span><br><span class="line">        ListNode l1 = merge(lists, lo, mid);</span><br><span class="line">        ListNode l2 = merge(lists, mid+<span class="number">1</span>, hi);</span><br><span class="line">        </span><br><span class="line">        ListNode result = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode tail = result;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(l1 == <span class="keyword">null</span> &amp;&amp; l2 == <span class="keyword">null</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(l1 == <span class="keyword">null</span> &amp;&amp; l2 != <span class="keyword">null</span>)&#123;</span><br><span class="line">                tail.next = l2;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(l1 != <span class="keyword">null</span> &amp;&amp; l2 == <span class="keyword">null</span>)&#123;</span><br><span class="line">                tail.next = l1;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(l1.val &lt; l2.val) &#123;</span><br><span class="line">                tail.next = l1;</span><br><span class="line">                l1 = l1.next;</span><br><span class="line">                tail.next.next = <span class="keyword">null</span>;</span><br><span class="line">                tail = tail.next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tail.next = l2;</span><br><span class="line">                l2 = l2.next;</span><br><span class="line">                tail.next.next = <span class="keyword">null</span>;</span><br><span class="line">                tail = tail.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        result = result.next;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>使用分治法的思想，一半一半的处理，把复杂度降低log。<br>但是内存占用较高，而且并不会分析算法复杂度。</p>
<h2 id="301-Remove-Invalid-Parentheses-FAIL"><a href="#301-Remove-Invalid-Parentheses-FAIL" class="headerlink" title="301. Remove Invalid Parentheses (FAIL)"></a><a href="https://leetcode.com/problems/remove-invalid-parentheses/" target="_blank" rel="noopener">301. Remove Invalid Parentheses</a> (FAIL)</h2><h3 id="DFS-ANSWER"><a href="#DFS-ANSWER" class="headerlink" title="DFS ANSWER"></a>DFS ANSWER</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">removeInvalidParentheses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        dfs(s, res, <span class="number">0</span>, <span class="number">0</span>, <span class="string">'('</span>, <span class="string">')'</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String s, List&lt;String&gt; res, <span class="keyword">int</span> i_last, <span class="keyword">int</span> j_last, <span class="keyword">char</span> c1, <span class="keyword">char</span> c2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> stack = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = i_last; i &lt; s.length(); ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i) == c1) stack++;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i) == c2) stack--;</span><br><span class="line">            <span class="keyword">if</span>(stack &gt;= <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">// stack &lt; 0, dfs all of before</span></span><br><span class="line">            <span class="comment">//bugfix</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = j_last; j &lt;= i; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(s.charAt(j) == c2 &amp;&amp; (j == j_last || s.charAt(j-<span class="number">1</span>) != c2))</span><br><span class="line">                    dfs(s.substring(<span class="number">0</span>, j) + s.substring(j+<span class="number">1</span>, s.length()), res, i, j , c1, c2);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//bugfix</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//后缀已经正确，现在开始处理前缀</span></span><br><span class="line">        <span class="comment">//倒排序</span></span><br><span class="line">        String reversed = <span class="keyword">new</span> StringBuilder(s).reverse().toString();</span><br><span class="line">        <span class="keyword">if</span>(c1 == <span class="string">'('</span>)</span><br><span class="line">            dfs(reversed, res, <span class="number">0</span>, <span class="number">0</span>, <span class="string">')'</span>, <span class="string">'('</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            res.add(reversed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>tips</strong></p>
<ul>
<li>要看到本质。删除几个字符形成正确的结构 –&gt; 有多种删除方法 –&gt; 本质是组合的问题 –&gt; 组合的问题都可以用DFS解。</li>
<li>结论。组合问题 = DFS问题（比如八皇后）</li>
<li>先解决后缀的正确性，再倒序后处理前缀。</li>
<li>上文思路见图。<ul>
<li>注意 i 和 j：i前面的字符串已经是正确的了，j是为了防止重复。所以i 和 j要记录下来，不断移动。<img src="/facebook-problems/301.png" class="">

</li>
</ul>
</li>
</ul>
<h2 id="124-Binary-Tree-Maximum-Path-Sum"><a href="#124-Binary-Tree-Maximum-Path-Sum" class="headerlink" title="124. Binary Tree Maximum Path Sum"></a><a href="https://leetcode.com/problems/binary-tree-maximum-path-sum/" target="_blank" rel="noopener">124. Binary Tree Maximum Path Sum</a></h2><h3 id="5-04-5-95-1h-TODO"><a href="#5-04-5-95-1h-TODO" class="headerlink" title="5.04 5.95 1h TODO"></a>5.04 5.95 1h TODO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// exclude current root</span></span><br><span class="line">        <span class="keyword">return</span> traveralTree(root);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">traveralTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> l1 = computeLeft(root);</span><br><span class="line">        <span class="keyword">int</span> r1 = computeRight(root);</span><br><span class="line">        <span class="keyword">int</span> res = (l1+r1) - root.val;</span><br><span class="line">        <span class="keyword">if</span>(root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> l = traveralTree(root.left);</span><br><span class="line">            res = res &gt; l ? res : l;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> r = traveralTree(root.right);</span><br><span class="line">            res = res &gt; r ? res : r;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// include root, root should not be null</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">computeLeft</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = root.val;</span><br><span class="line">        <span class="keyword">if</span>(root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> l = computeLeft(root.left);</span><br><span class="line">            <span class="keyword">int</span> r = computeRight(root.left);</span><br><span class="line">            <span class="keyword">int</span> more = Math.max(l, r);</span><br><span class="line">            res += Math.max(<span class="number">0</span>, more);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">computeRight</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = root.val;</span><br><span class="line">        <span class="keyword">if</span>(root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> l = computeLeft(root.right);</span><br><span class="line">            <span class="keyword">int</span> r = computeRight(root.right);</span><br><span class="line">            <span class="keyword">int</span> more = Math.max(l, r);</span><br><span class="line">            res += Math.max(<span class="number">0</span>, more);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>遍历这棵树（traveralTree），分别计算经过每个node的最大值（通过计算左侧和右侧最大值进行间接计算），最后输出最大结果。<br><strong>todo</strong>：</p>
<ul>
<li>感觉上有很多复杂计算，需要优化</li>
<li>为什么内存占用会这么大，递归的内存占用分析不会。可以用这道题进行分析</li>
</ul>
<h2 id="42-Trapping-Rain-Water-TODO"><a href="#42-Trapping-Rain-Water-TODO" class="headerlink" title="42. Trapping Rain Water TODO"></a><a href="https://leetcode.com/problems/trapping-rain-water/" target="_blank" rel="noopener">42. Trapping Rain Water</a> TODO</h2><p>FAIL</p>
<h3 id="solution-1-98-21-92-47-TODO-多解"><a href="#solution-1-98-21-92-47-TODO-多解" class="headerlink" title="solution 1 98.21 92.47 TODO(多解)"></a>solution 1 98.21 92.47 TODO(多解)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(height.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[height.length];</span><br><span class="line">        <span class="keyword">int</span> max = height[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.length; i++)</span><br><span class="line">            res[i] = max = Math.max(max, height[i]);</span><br><span class="line">        max = height[height.length-<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.length; i++)&#123;</span><br><span class="line">            max = Math.max(max, height[height.length-<span class="number">1</span>-i]);</span><br><span class="line">            res[height.length-<span class="number">1</span>-i] = Math.min(res[height.length-<span class="number">1</span>-i], max);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.length; i++)</span><br><span class="line">            result += res[i] - height[i];</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从左向右，取一次最大值；从右向左，取一次最大值。两者取小的，再进行减法。这算是动态规划的方法。</p>
<h2 id="340-Longest-Substring-with-At-Most-K-Distinct-Characters"><a href="#340-Longest-Substring-with-At-Most-K-Distinct-Characters" class="headerlink" title="340. Longest Substring with At Most K Distinct Characters"></a><a href="https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/" target="_blank" rel="noopener">340. Longest Substring with At Most K Distinct Characters</a></h2><h3 id="21-84-46-81-30mins"><a href="#21-84-46-81-30mins" class="headerlink" title="21.84 46.81 30mins"></a>21.84 46.81 30mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        Map&lt;Character, Integer&gt; cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; s.length()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(j == s.length()) <span class="keyword">return</span> res;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(j++);</span><br><span class="line">            <span class="keyword">if</span>(!cache.containsKey(c)) cache.put(c, <span class="number">0</span>);</span><br><span class="line">            cache.put(c, cache.get(c)+<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// bugfix == -&gt; &lt;=</span></span><br><span class="line">            <span class="keyword">if</span>(cache.size() &lt;= k) res = Math.max(res, j-i);</span><br><span class="line">            <span class="keyword">while</span>(cache.size() &gt; k) &#123;</span><br><span class="line">                <span class="keyword">char</span> ci = s.charAt(i++);</span><br><span class="line">                <span class="keyword">if</span>(cache.get(ci) == <span class="number">1</span>) cache.remove(ci);</span><br><span class="line">                <span class="keyword">else</span> cache.put(ci, cache.get(ci)-<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(cache.size() == k) res = Math.max(res, j-i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思路：两个pointer，i，j(excluded)，向右移动。分别计算里面的包含字符串个数 .但是有额外计算，导致时间复杂度较高</p>
<h2 id="317-Shortest-Distance-from-All-Buildings-FAIL"><a href="#317-Shortest-Distance-from-All-Buildings-FAIL" class="headerlink" title="317. Shortest Distance from All Buildings FAIL"></a><a href="https://leetcode.com/problems/shortest-distance-from-all-buildings/" target="_blank" rel="noopener">317. Shortest Distance from All Buildings</a> FAIL</h2><h2 id="76-Minimum-Window-Substring"><a href="#76-Minimum-Window-Substring" class="headerlink" title="76. Minimum Window Substring"></a><a href="https://leetcode.com/problems/minimum-window-substring/" target="_blank" rel="noopener">76. Minimum Window Substring</a></h2><h3 id="5-01-5-32-38mins"><a href="#5-01-5-32-38mins" class="headerlink" title="5.01 5.32 38mins"></a>5.01 5.32 38mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 漏掉了几种testcase</span></span><br><span class="line"><span class="comment">// "a" "a"</span></span><br><span class="line"><span class="comment">// "a" "aa"  没考虑到这种testcase 原理上就错了 </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        Map&lt;Character, Integer&gt; set = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c: t.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!set.containsKey(c)) set.put(c, <span class="number">0</span>);</span><br><span class="line">            set.put(c, set.get(c)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        String res = <span class="string">""</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i)</span><br><span class="line">            <span class="keyword">if</span>(set.containsKey(s.charAt(i))) &#123;</span><br><span class="line">                <span class="keyword">if</span>(!map.containsKey(s.charAt(i))) map.put(s.charAt(i), <span class="number">0</span>);</span><br><span class="line">                map.put(s.charAt(i), map.get(s.charAt(i)) + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// bugfix</span></span><br><span class="line">                q.offer(i);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// bugfix while(map.equals(set) &amp;&amp; q.size() != 0) &#123;</span></span><br><span class="line">                <span class="comment">// bugfix while(map.keySet().size() == set.keySet().size() &amp;&amp; q.size() != 0) &#123;</span></span><br><span class="line">                <span class="keyword">while</span>(mapContains(map, set) &amp;&amp; q.size() != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> start = q.poll();</span><br><span class="line">                    <span class="keyword">if</span>(res.length() == <span class="number">0</span>) res = s.substring(start, i+<span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">else</span> res = res.length() &lt; s.substring(start, i+<span class="number">1</span>).length() ? res : s.substring(start, i+<span class="number">1</span>);</span><br><span class="line">                    map.put(s.charAt(start), map.get(s.charAt(start)) - <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span>(map.get(s.charAt(start)) == <span class="number">0</span>) map.remove(s.charAt(start));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// bugfix q.offer(i);</span></span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">mapContains</span><span class="params">(Map&lt;Character, Integer&gt; m1, Map&lt;Character, Integer&gt; m2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(m1.size() == m2.size()) &#123;</span><br><span class="line">            <span class="keyword">for</span>(Character c: m1.keySet())</span><br><span class="line">                <span class="keyword">if</span>(m1.get(c) &lt; m2.get(c)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>思路：</p>
<ul>
<li>从左向右扫描，记录每个可能点的位置。</li>
<li>注意几个testcase，待优化</li>
</ul>
<h2 id="269-Alien-Dictionary-FAIL"><a href="#269-Alien-Dictionary-FAIL" class="headerlink" title="269. Alien Dictionary FAIL"></a><a href="https://leetcode.com/problems/alien-dictionary/" target="_blank" rel="noopener">269. Alien Dictionary</a> FAIL</h2><p>这里遇到一个之前没了解过的知识点，<a href="https://en.wikipedia.org/wiki/Topological_sorting##Kahn' target="_blank" rel="noopener"s_algorithm">拓扑排序/Topological sorting</a>，拓扑排序分为两种，BFS和DFS。待学习和写算法。</p>
<h2 id="282-Expression-Add-Operators-FAIL"><a href="#282-Expression-Add-Operators-FAIL" class="headerlink" title="282. Expression Add Operators FAIL"></a><a href="https://leetcode.com/problems/expression-add-operators/" target="_blank" rel="noopener">282. Expression Add Operators</a> FAIL</h2><p>有个问题：DFS和BACKTRACKING 到底有什么区别?</p>
<h2 id="297-Serialize-and-Deserialize-Binary-Tree"><a href="#297-Serialize-and-Deserialize-Binary-Tree" class="headerlink" title="297. Serialize and Deserialize Binary Tree"></a><a href="https://leetcode.com/problems/serialize-and-deserialize-binary-tree/" target="_blank" rel="noopener">297. Serialize and Deserialize Binary Tree</a></h2><h3 id="42-59-54-28-20mins-TODO-DFS-BFS"><a href="#42-59-54-28-20mins-TODO-DFS-BFS" class="headerlink" title="42.59 54.28 20mins TODO(DFS BFS?)"></a>42.59 54.28 20mins TODO(DFS BFS?)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Encodes a tree to a single string.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">serialize</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;TreeNode&gt;();</span><br><span class="line">        q.offer(root);</span><br><span class="line">        <span class="keyword">while</span>(q.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            TreeNode node = q.poll();</span><br><span class="line">            <span class="keyword">if</span>(node != <span class="keyword">null</span>) &#123;</span><br><span class="line">                sb.append(node.val).append(<span class="string">" "</span>);</span><br><span class="line">                q.offer(node.left);</span><br><span class="line">                q.offer(node.right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> sb.append(<span class="string">"null"</span>).append(<span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.substring(<span class="number">0</span>, sb.length()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Decodes your encoded data to tree.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">deserialize</span><span class="params">(String data)</span> </span>&#123;</span><br><span class="line">        String[] vals = data.split(<span class="string">" "</span>);</span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        TreeNode res;</span><br><span class="line">        <span class="keyword">if</span>(vals[<span class="number">0</span>].equals(<span class="string">"null"</span>)) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">else</span> res = <span class="keyword">new</span> TreeNode(Integer.valueOf(vals[<span class="number">0</span>]));</span><br><span class="line">        q.offer(res);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; vals.length; i++) &#123;</span><br><span class="line">            TreeNode n;</span><br><span class="line">            <span class="keyword">if</span>(vals[i].equals(<span class="string">"null"</span>)) n = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">else</span> n = <span class="keyword">new</span> TreeNode(Integer.valueOf(vals[i]));</span><br><span class="line">            </span><br><span class="line">            TreeNode node = q.poll();</span><br><span class="line">            node.left = n;</span><br><span class="line">            <span class="keyword">if</span>(n != <span class="keyword">null</span>) q.offer(n);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(vals[++i].equals(<span class="string">"null"</span>)) n = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">else</span> n = <span class="keyword">new</span> TreeNode(Integer.valueOf(vals[i]));</span><br><span class="line">            </span><br><span class="line">            node.right = n;</span><br><span class="line">            <span class="keyword">if</span>(n != <span class="keyword">null</span>) q.offer(n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Your Codec object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment">// Codec codec = new Codec();</span></span><br><span class="line"><span class="comment">// codec.deserialize(codec.serialize(root));</span></span><br></pre></td></tr></table></figure>

<p>实现了类似leetcode的方式：[1,2,3,null,null,4,5] 但是时间和空间复杂度是50%左右。待优化。</p>
<h2 id="273-Integer-to-English-Words"><a href="#273-Integer-to-English-Words" class="headerlink" title="273. Integer to English Words"></a><a href="https://leetcode.com/problems/integer-to-english-words/" target="_blank" rel="noopener">273. Integer to English Words</a></h2><h3 id="17-43-100-00-29mins"><a href="#17-43-100-00-29mins" class="headerlink" title="17.43 100.00 29mins"></a>17.43 100.00 29mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    String[] dig = <span class="keyword">new</span> String[]&#123;<span class="string">""</span>, <span class="string">"One"</span>, <span class="string">"Two"</span>, <span class="string">"Three"</span>, <span class="string">"Four"</span>, </span><br><span class="line">                               <span class="string">"Five"</span>, <span class="string">"Six"</span>, <span class="string">"Seven"</span>, <span class="string">"Eight"</span>, <span class="string">"Nine"</span>&#125;;</span><br><span class="line">    String[] dig2 = <span class="keyword">new</span> String[] &#123;<span class="string">"Ten"</span>, <span class="string">"Eleven"</span>, <span class="string">"Twelve"</span>, <span class="string">"Thirteen"</span>, <span class="string">"Fourteen"</span>, </span><br><span class="line">                                 <span class="string">"Fifteen"</span>, <span class="string">"Sixteen"</span>, <span class="string">"Seventeen"</span>, <span class="string">"Eighteen"</span>, <span class="string">"Nineteen"</span>&#125;;</span><br><span class="line">    String[] tens = <span class="keyword">new</span> String[]&#123;<span class="string">""</span>, <span class="string">""</span>, <span class="string">"Twenty"</span>, <span class="string">"Thirty"</span>, <span class="string">"Forty"</span>, <span class="string">"Fifty"</span>, <span class="string">"Sixty"</span>, </span><br><span class="line">                                <span class="string">"Seventy"</span>, <span class="string">"Eighty"</span>, <span class="string">"Ninety"</span>&#125;;</span><br><span class="line">    String[] unit = <span class="keyword">new</span> String[]&#123;<span class="string">""</span>, <span class="string">"Thousand"</span>, <span class="string">"Million"</span>, <span class="string">"Billion"</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//101-119</span></span><br><span class="line">    <span class="comment">// bugfix case: 0</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">numberToWords</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">"Zero"</span>;</span><br><span class="line">        </span><br><span class="line">        Stack&lt;String&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> iter = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> mod = num % <span class="number">1000</span>;</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">if</span>(mod == <span class="number">0</span>) &#123;</span><br><span class="line">                num /= <span class="number">1000</span>;</span><br><span class="line">                iter++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.push(unit[iter]);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">int</span> last2 = mod%<span class="number">100</span>;</span><br><span class="line">            <span class="keyword">if</span>(last2 != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(last2 &lt; <span class="number">10</span>) stack.push(dig[last2]);</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(last2 &lt; <span class="number">20</span>) stack.push(dig2[last2-<span class="number">10</span>]);</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">int</span> ten = last2/<span class="number">10</span>;</span><br><span class="line">                    <span class="keyword">int</span> one = last2%<span class="number">10</span>;</span><br><span class="line">                    <span class="keyword">if</span>(one != <span class="number">0</span>) stack.push(dig[one]);</span><br><span class="line">                    stack.push(tens[ten]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> first1 = mod/<span class="number">100</span>;</span><br><span class="line">            <span class="keyword">if</span>(first1 != <span class="number">0</span>) &#123;</span><br><span class="line">                stack.push(<span class="string">"Hundred"</span>);</span><br><span class="line">                stack.push(dig[first1]);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            num /= <span class="number">1000</span>;</span><br><span class="line">            iter++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span>(stack.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(stack.peek().equals(<span class="string">""</span>)) &#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(stack.pop()).append(<span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.substring(<span class="number">0</span>, sb.length()-<span class="number">1</span>).toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>每三位处理一次，注意处理0和空值，注意空格。准备数据材料的时候，注意多种情况。</p>
<h2 id="282-Expression-Add-Operators"><a href="#282-Expression-Add-Operators" class="headerlink" title="282. Expression Add Operators"></a><a href="https://leetcode.com/problems/expression-add-operators/" target="_blank" rel="noopener">282. Expression Add Operators</a></h2><h3 id="FAIL"><a href="#FAIL" class="headerlink" title="FAIL"></a>FAIL</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">addOperators</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dfs(num, target);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">dfs</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(num.length() == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = num.charAt(i);</span><br><span class="line">            sum = sum*<span class="number">10</span> + (c-<span class="string">'0'</span>);</span><br><span class="line">            <span class="keyword">if</span>(i == num.length()-<span class="number">1</span> &amp;&amp; sum == target) &#123;</span><br><span class="line">                res.add(num);</span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i != num.length()-<span class="number">1</span>) &#123;</span><br><span class="line">                List&lt;String&gt; l1 = dfs(num.substring(i+<span class="number">1</span>), sum-target);</span><br><span class="line">                List&lt;String&gt; l2 = dfs(num.substring(i+<span class="number">1</span>), target-sum);</span><br><span class="line">                <span class="keyword">if</span>(!l1.isEmpty()) res.addAll(insert(l1, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"-"</span>));</span><br><span class="line">                <span class="keyword">if</span>(!l2.isEmpty()) res.addAll(insert(l2, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"+"</span>));</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 处理乘号</span></span><br><span class="line">                <span class="keyword">int</span> sum2 = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; num.length(); j++) &#123;</span><br><span class="line">                    <span class="keyword">char</span> c2 = num.charAt(j);</span><br><span class="line">                    sum2 = sum2*<span class="number">10</span> + (c2-<span class="string">'0'</span>);</span><br><span class="line">                    <span class="comment">// bugfix</span></span><br><span class="line">                    <span class="keyword">if</span>(j == num.length()-<span class="number">1</span> &amp;&amp; sum*sum2 == target) &#123;</span><br><span class="line">                        res.add(num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"*"</span>+num.substring(i+<span class="number">1</span>, j+<span class="number">1</span>));</span><br><span class="line">                        <span class="keyword">return</span> res;</span><br><span class="line">                    &#125;</span><br><span class="line">                    l1 = dfs(num.substring(j+<span class="number">1</span>), sum*sum2-target);</span><br><span class="line">                    l2 = dfs(num.substring(j+<span class="number">1</span>), target-sum*sum2);</span><br><span class="line">                    <span class="keyword">if</span>(!l1.isEmpty()) res.addAll(insert(l1, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"*"</span>+num.substring(i+<span class="number">1</span>, j+<span class="number">1</span>)+<span class="string">"-"</span>));</span><br><span class="line">                    <span class="keyword">if</span>(!l2.isEmpty()) res.addAll(insert(l2, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"*"</span>+num.substring(i+<span class="number">1</span>, j+<span class="number">1</span>)+<span class="string">"+"</span>));</span><br><span class="line">                    </span><br><span class="line">                    <span class="comment">// 处理连乘 ...无穷无尽</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> k = j+<span class="number">1</span>; k &lt; num.length(); k++) &#123;</span><br><span class="line">                        <span class="keyword">char</span> c3 = num.charAt(c3);</span><br><span class="line">                        sum3 = sum3*<span class="number">10</span>+(c3-<span class="string">'0'</span>);</span><br><span class="line">                        <span class="keyword">if</span>(k == num.length()-<span class="number">1</span> &amp;&amp; sum * sum2 * sum3 == target) &#123;</span><br><span class="line">                            res.add(num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"*"</span>+num.substring(i+<span class="number">1</span>, j+<span class="number">1</span>)+<span class="string">"*"</span>+num.substring(j+<span class="number">1</span>));</span><br><span class="line">                            <span class="keyword">return</span> res;</span><br><span class="line">                        &#125;</span><br><span class="line">                        </span><br><span class="line">                    &#125; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">insert</span><span class="params">(List&lt;String&gt; l, String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; l.size(); i++) l.set(i, s+l.get(i));</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>用dfs处理加减是可以的。但是加上乘法，因为两者优先级不一样，所以就无法使用dfs了。不然就会循环套循环无穷无尽。</p>
<h3 id="FAIL2"><a href="#FAIL2" class="headerlink" title="FAIL2"></a>FAIL2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">addOperators</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = all(num, target);</span><br><span class="line">        Collections.sort(res);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 只有加减</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">dfs</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(num.length() == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = num.charAt(i);</span><br><span class="line">            sum = sum*<span class="number">10</span> + (c-<span class="string">'0'</span>);</span><br><span class="line">            <span class="keyword">if</span>(i == num.length()-<span class="number">1</span> &amp;&amp; sum == target) &#123;</span><br><span class="line">                res.add(num);</span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(i != num.length()-<span class="number">1</span>) &#123;</span><br><span class="line">                List&lt;String&gt; l1 = dfs(num.substring(i+<span class="number">1</span>), sum-target);</span><br><span class="line">                List&lt;String&gt; l2 = dfs(num.substring(i+<span class="number">1</span>), target-sum);</span><br><span class="line">                <span class="keyword">if</span>(!l1.isEmpty()) res.addAll(insert(l1, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"-"</span>));</span><br><span class="line">                <span class="keyword">if</span>(!l2.isEmpty()) res.addAll(insert(l2, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"+"</span>));</span><br><span class="line">                <span class="comment">// 处理乘号</span></span><br><span class="line">                <span class="comment">//List&lt;String&gt; l3 = dfsMultiply(num.substring(i+1), target, sum, num.substring(0, i+1));</span></span><br><span class="line">                <span class="comment">//if(!l3.isEmpty()) res.addAll(insert(l3, num.substring(0, i+1)+"*"));</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; c == <span class="string">'0'</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">all</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = num.charAt(i);</span><br><span class="line">            sum = sum*<span class="number">10</span> + (c-<span class="string">'0'</span>);</span><br><span class="line">            <span class="keyword">if</span>(i == num.length()-<span class="number">1</span> &amp;&amp; sum == target) &#123;</span><br><span class="line">                res.add(num);</span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>( i != num.length() -<span class="number">1</span>) &#123;</span><br><span class="line">                res.addAll(dfsMultiply(num.substring(i+<span class="number">1</span>), target, sum, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)));</span><br><span class="line">                List&lt;String&gt; l1 = all(num.substring(i+<span class="number">1</span>), sum-target);</span><br><span class="line">                List&lt;String&gt; l2 = all(num.substring(i+<span class="number">1</span>), target-sum);</span><br><span class="line">                <span class="keyword">if</span>(!l1.isEmpty()) res.addAll(insert(l1, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"-"</span>));</span><br><span class="line">                <span class="keyword">if</span>(!l2.isEmpty()) res.addAll(insert(l2, num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"+"</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; c == <span class="string">'0'</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//开头是乘号</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">dfsMultiply</span><span class="params">(String num, <span class="keyword">int</span> target, <span class="keyword">int</span> m1, String m1s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(num.length() == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = num.charAt(i);</span><br><span class="line">            sum = sum*<span class="number">10</span> + (c-<span class="string">'0'</span>);</span><br><span class="line">            <span class="keyword">if</span>(i == num.length()-<span class="number">1</span> &amp;&amp; sum*m1 == target) &#123;</span><br><span class="line">                res.add(m1s+<span class="string">"*"</span>+num);</span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            List&lt;String&gt; l1 = dfs(num.substring(i+<span class="number">1</span>), m1*sum-target);</span><br><span class="line">            List&lt;String&gt; l2 = dfs(num.substring(i+<span class="number">1</span>), target-m1*sum);</span><br><span class="line">            <span class="keyword">if</span>(!l1.isEmpty()) res.addAll(insert(l1, m1s+<span class="string">"*"</span>+num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"-"</span>));</span><br><span class="line">            <span class="keyword">if</span>(!l2.isEmpty()) res.addAll(insert(l2, m1s+<span class="string">"*"</span>+num.substring(<span class="number">0</span>, i+<span class="number">1</span>)+<span class="string">"+"</span>));</span><br><span class="line">            </span><br><span class="line">            List&lt;String&gt; l3 = dfsMultiply(num.substring(i+<span class="number">1</span>), target, m1*sum, m1s+<span class="string">"*"</span>+num.substring(<span class="number">0</span>, i+<span class="number">1</span>));</span><br><span class="line">            <span class="comment">//if(!l3.isEmpty()) res.addAll(insert(l3, m1s+"*"));</span></span><br><span class="line">            <span class="keyword">if</span>(!l3.isEmpty()) res.addAll(l3);</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; c == <span class="string">'0'</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;String&gt; <span class="title">insert</span><span class="params">(List&lt;String&gt; l, String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; l.size(); i++) l.set(i, s+l.get(i));</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这次做了改进，区分了只有加减号，和开头是乘号 这两种情况。目前返回时正确的了。但是有一种存在0的情况没有排除。<br>case: 105, 5。这种做法会返回 1*05.需要特殊处理0. 于是加了 bugfix两句话。但是有case过不去。<br>“123456789”<br>45<br>发现输出少了很多个解。<br>TODO</p>
<h3 id="55-92-56-76-40mins"><a href="#55-92-56-76-40mins" class="headerlink" title="55.92 56.76 40mins"></a>55.92 56.76 40mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">addOperators</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="comment">// bugfix start with iteration</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.length(); i++) &#123;</span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">0</span> &amp;&amp; num.charAt(i) == <span class="string">'0'</span>) &#123;</span><br><span class="line">                dfs(res, sb.append(<span class="string">'0'</span>), num, i, target, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            String part = num.substring(<span class="number">0</span>, i+<span class="number">1</span>);</span><br><span class="line">            <span class="comment">// num overflow?? use long!!</span></span><br><span class="line">            <span class="keyword">long</span> partVal = Long.parseLong(part);</span><br><span class="line">            sb.append(part);</span><br><span class="line">            dfs(res, sb, num, i, target, partVal, partVal);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;String&gt; res, StringBuilder sb ,String num, <span class="keyword">int</span> pos, <span class="keyword">long</span> target, <span class="keyword">long</span> val, <span class="keyword">long</span> multi)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(pos == num.length()-<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(val == target) res.add(sb.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder tmp;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = pos+<span class="number">1</span>; i &lt; num.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == pos+<span class="number">1</span> &amp;&amp; num.charAt(i) == <span class="string">'0'</span>) &#123;</span><br><span class="line">                <span class="comment">// bugfix tmp = sb</span></span><br><span class="line">                tmp = <span class="keyword">new</span> StringBuilder(sb);</span><br><span class="line">                dfs(res, tmp.append(<span class="string">'+'</span>).append(<span class="string">'0'</span>), num, i, target, val, <span class="number">0</span>);</span><br><span class="line">                tmp = <span class="keyword">new</span> StringBuilder(sb);</span><br><span class="line">                dfs(res, tmp.append(<span class="string">'-'</span>).append(<span class="string">'0'</span>), num, i, target, val, <span class="number">0</span>);</span><br><span class="line">                tmp = <span class="keyword">new</span> StringBuilder(sb);</span><br><span class="line">                dfs(res, tmp.append(<span class="string">'*'</span>).append(<span class="string">'0'</span>), num, i, target, val-multi, <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            String part = num.substring(pos+<span class="number">1</span>, i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">long</span> partVal = Long.parseLong(part);</span><br><span class="line">            tmp = <span class="keyword">new</span> StringBuilder(sb);</span><br><span class="line">            dfs(res, tmp.append(<span class="string">'+'</span>).append(part), num, i, target, val+partVal, partVal);</span><br><span class="line">            tmp = <span class="keyword">new</span> StringBuilder(sb);</span><br><span class="line">            dfs(res, tmp.append(<span class="string">'-'</span>).append(part), num, i, target, val-partVal, -partVal);</span><br><span class="line">            tmp = <span class="keyword">new</span> StringBuilder(sb);</span><br><span class="line">            dfs(res, tmp.append(<span class="string">'*'</span>).append(part), num, i, target, val-multi+multi*partVal, multi*partVal);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考后面的答案写出来的结果，比原答案复杂不少，原因是dfs中 pos的含义与原答案中不一样。我写的dfs中pos意思是”当前位置”，但是答案中dfs中的pos意思是，”下一个位置”。总结一下dfs的一贯思路</p>
<p>dfs思路</p>
<ul>
<li>入参很关键，要把dfs的入参设计好</li>
<li>入参一定是跟<strong>结果</strong> 和 <strong>前序输入</strong>相关。一定不能和后续输入相关。（比如本题，因为有了一个乘号，所以之前考虑dfs的时候会考虑后续的输入，但是这是不对的。答案使用了一个multiply变量输入dfs，解决了这个问题。让后续依赖前序，而非相反。</li>
<li>dfs需要注意如果dfs内部有多个分支，那么不同分支之间一定不要互相影响，要回退一些临时数据。比如本题中的stringBuilder，要每次进行copy</li>
</ul>
<h3 id="ANSWER"><a href="#ANSWER" class="headerlink" title="ANSWER"></a>ANSWER</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">addOperators</span><span class="params">(String num, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; rst = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="keyword">null</span> || num.length() == <span class="number">0</span>) <span class="keyword">return</span> rst;</span><br><span class="line">        helper(rst, <span class="string">""</span>, num, target, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> rst;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(List&lt;String&gt; rst, String path, String num, <span class="keyword">int</span> target, <span class="keyword">int</span> pos, <span class="keyword">long</span> eval, <span class="keyword">long</span> multed)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(pos == num.length())&#123;</span><br><span class="line">            <span class="keyword">if</span>(target == eval)</span><br><span class="line">                rst.add(path);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = pos; i &lt; num.length(); i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i != pos &amp;&amp; num.charAt(pos) == <span class="string">'0'</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">long</span> cur = Long.parseLong(num.substring(pos, i + <span class="number">1</span>));</span><br><span class="line">            <span class="keyword">if</span>(pos == <span class="number">0</span>)&#123;</span><br><span class="line">                helper(rst, path + cur, num, target, i + <span class="number">1</span>, cur, cur);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                helper(rst, path + <span class="string">"+"</span> + cur, num, target, i + <span class="number">1</span>, eval + cur , cur);</span><br><span class="line">                </span><br><span class="line">                helper(rst, path + <span class="string">"-"</span> + cur, num, target, i + <span class="number">1</span>, eval -cur, -cur);</span><br><span class="line">                </span><br><span class="line">                helper(rst, path + <span class="string">"*"</span> + cur, num, target, i + <span class="number">1</span>, eval - multed + multed * cur, multed * cur );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="489-Robot-Room-Cleaner"><a href="#489-Robot-Room-Cleaner" class="headerlink" title="489. Robot Room Cleaner"></a><a href="https://leetcode.com/problems/robot-room-cleaner/" target="_blank" rel="noopener">489. Robot Room Cleaner</a></h2><h3 id="5-45-8-00-50mins"><a href="#5-45-8-00-50mins" class="headerlink" title="5.45 8.00 50mins"></a>5.45 8.00 50mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * // This is the robot's control interface.</span></span><br><span class="line"><span class="comment"> * // You should not implement it, or speculate about its implementation</span></span><br><span class="line"><span class="comment"> * interface Robot &#123;</span></span><br><span class="line"><span class="comment"> *     // Returns true if the cell in front is open and robot moves into the cell.</span></span><br><span class="line"><span class="comment"> *     // Returns false if the cell in front is blocked and robot stays in the current cell.</span></span><br><span class="line"><span class="comment"> *     public boolean move();</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *     // Robot will stay in the same cell after calling turnLeft/turnRight.</span></span><br><span class="line"><span class="comment"> *     // Each turn will be 90 degrees.</span></span><br><span class="line"><span class="comment"> *     public void turnLeft();</span></span><br><span class="line"><span class="comment"> *     public void turnRight();</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *     // Clean the current cell.</span></span><br><span class="line"><span class="comment"> *     public void clean();</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer, Set&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">cleanRoom</span><span class="params">(Robot robot)</span> </span>&#123;</span><br><span class="line">        dfs(robot, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        map.computeIfAbsent(x, i-&gt;<span class="keyword">new</span> HashSet&lt;Integer&gt;()).add(y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">visited</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> map.computeIfAbsent(x, i-&gt;<span class="keyword">new</span> HashSet&lt;Integer&gt;()).contains(y);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// x 左右，y上下</span></span><br><span class="line">    <span class="comment">// 方向回位</span></span><br><span class="line">    <span class="comment">// bugfix 方向会影响，需要输入方向</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Robot robot, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> xd, <span class="keyword">int</span> yd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(visited(x, y)) <span class="keyword">return</span>;</span><br><span class="line">        visit(x, y);</span><br><span class="line">        robot.clean();</span><br><span class="line">        move(robot, x+xd, y+yd, xd, yd);</span><br><span class="line">        robot.turnRight();</span><br><span class="line">        move(robot, x+yd, y-xd, yd, -xd);</span><br><span class="line">        robot.turnRight();</span><br><span class="line">        move(robot, x-xd, y-yd, -xd, -yd);</span><br><span class="line">        robot.turnRight();</span><br><span class="line">        move(robot, x-yd, y+xd, -yd, xd);</span><br><span class="line">        robot.turnRight();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">move</span><span class="params">(Robot robot, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> xd, <span class="keyword">int</span> yd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> res = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(robot.move()) &#123;</span><br><span class="line">            res = <span class="keyword">true</span>;</span><br><span class="line">            dfs(robot, x, y, xd, yd);</span><br><span class="line">            robot.turnRight();</span><br><span class="line">            robot.turnRight();</span><br><span class="line">            robot.move();</span><br><span class="line">            robot.turnRight();</span><br><span class="line">            robot.turnRight();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有了上一题dfs的经验，这一题会做的简单一些。需要注意的是每次dfs要输入方向，同时dfs之后要回退到当前位置，方向也要回位。</p>
<h2 id="65-Valid-Number"><a href="#65-Valid-Number" class="headerlink" title="65. Valid Number"></a><a href="https://leetcode.com/problems/valid-number/" target="_blank" rel="noopener">65. Valid Number</a></h2><p>就是考虑边界条件特别多，TODO吧</p>
<h1 id="MEDIUM"><a href="#MEDIUM" class="headerlink" title="MEDIUM"></a>MEDIUM</h1><h2 id="91-Decode-Ways"><a href="#91-Decode-Ways" class="headerlink" title="91. Decode Ways"></a><a href="https://leetcode.com/problems/decode-ways/" target="_blank" rel="noopener">91. Decode Ways</a></h2><h3 id="98-63-100-00-43min"><a href="#98-63-100-00-43min" class="headerlink" title="98.63% 100.00% 43min"></a>98.63% 100.00% 43min</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDecodings</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[s.length()+<span class="number">1</span>];</span><br><span class="line">        result[<span class="number">0</span>] = <span class="number">1</span>;<span class="comment">// bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(s.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> result[<span class="number">0</span>+<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> sIndex = <span class="number">1</span>; sIndex &lt; s.length(); ++sIndex)&#123;</span><br><span class="line">            <span class="keyword">int</span> rIndex = sIndex + <span class="number">1</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">char</span> c1 = s.charAt(sIndex-<span class="number">1</span>), c2 = s.charAt(sIndex);</span><br><span class="line">            <span class="keyword">int</span> total = (c1-<span class="string">'0'</span>)*<span class="number">10</span> + (c2-<span class="string">'0'</span>);</span><br><span class="line">            <span class="keyword">if</span>(total == <span class="number">0</span> || (c2 == <span class="string">'0'</span> &amp;&amp; total &gt; <span class="number">20</span>)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//转换方程</span></span><br><span class="line">            <span class="keyword">if</span>(c2 != <span class="string">'0'</span>) result[rIndex] += result[rIndex-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(total &gt;= <span class="number">10</span> &amp;&amp; total &lt;= <span class="number">26</span>) result[rIndex] += result[rIndex-<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result[result.length - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此题目耗时较长，因为关于 ‘0’ 的case没有想清楚，并且程序中存在一个bug。</p>
<p>计数思路：</p>
<ul>
<li>0开头，结果是0</li>
<li>00相连，结果是0</li>
<li>存在30，40，50…，结果是0</li>
<li>动态规划，转换方程为上面的代码</li>
</ul>
<p>有一次错误提交，bug见代码中注释。为了方便，我为result数组多申请了一个格子。这里初始化result[0]应该是1.</p>
<h2 id="15-3Sum"><a href="#15-3Sum" class="headerlink" title="15. 3Sum"></a><a href="https://leetcode.com/problems/3sum/" target="_blank" rel="noopener">15. 3Sum</a></h2><h3 id="TLE-–-wrong-answer"><a href="#TLE-–-wrong-answer" class="headerlink" title="TLE – wrong answer"></a>TLE – wrong answer</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        Map&lt;Integer, List&lt;Integer[]&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;() ;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length-<span class="number">1</span>; i ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; nums.length; j++)&#123;</span><br><span class="line">                <span class="keyword">int</span> n = nums[i] + nums[j];</span><br><span class="line">                <span class="keyword">if</span>(!map.containsKey(n)) map.put(n, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">                Integer[] integers = <span class="keyword">new</span> Integer[<span class="number">2</span>];</span><br><span class="line">                integers[<span class="number">0</span>] = i;</span><br><span class="line">                integers[<span class="number">1</span>] = j;</span><br><span class="line">                map.get(n).add(integers);</span><br><span class="line">            &#125;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(-nums[i]))&#123;</span><br><span class="line">                List&lt;Integer[]&gt; list = map.get(-nums[i]);</span><br><span class="line">                <span class="keyword">for</span>(Integer[] integers: list)&#123;</span><br><span class="line">                    <span class="keyword">if</span>(i &lt;= integers[<span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">                    List&lt;Integer&gt; addList = <span class="keyword">new</span> LinkedList&lt;Integer&gt;();</span><br><span class="line">                    <span class="keyword">int</span> n1 = nums[integers[<span class="number">0</span>]], n2 = nums[integers[<span class="number">1</span>]], n3 = nums[i];</span><br><span class="line">                    <span class="keyword">int</span> i1 = Math.min(Math.min(n1, n2), Math.min(n1, n3));</span><br><span class="line">                    <span class="keyword">int</span> i3 = Math.max(Math.max(n1, n2), Math.max(n1, n3));</span><br><span class="line">                    <span class="keyword">int</span> i2 = n1 + n2 + n3 -i1 -i3;</span><br><span class="line">                    addList.add(i1);</span><br><span class="line">                    addList.add(i2);</span><br><span class="line">                    addList.add(i3);</span><br><span class="line">                    <span class="keyword">int</span> hash = hash(addList);</span><br><span class="line">                    <span class="keyword">if</span>(!set.contains(hash))&#123;</span><br><span class="line">                        set.add(hash);</span><br><span class="line">                        result.add(addList);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//bugfix 怎么去重</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">hash</span><span class="params">(List&lt;Integer&gt; l)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Integer i: l)&#123;</span><br><span class="line">            result = result *  <span class="number">31</span> + i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>分析</strong>：思路被2sum同化了。利用O(n2)的时间做索引，然后再遍历寻找结果。结果TLE了。后续需要思考。<br>PS：看了一下discuss发现都是O(n2)……</p>
<h2 id="973-K-Closest-Points-to-Origin"><a href="#973-K-Closest-Points-to-Origin" class="headerlink" title="973. K Closest Points to Origin"></a><a href="https://leetcode.com/problems/k-closest-points-to-origin/" target="_blank" rel="noopener">973. K Closest Points to Origin</a></h2><h3 id="WRONG-ANSER"><a href="#WRONG-ANSER" class="headerlink" title="WRONG ANSER"></a>WRONG ANSER</h3><p>没有注意审题，吭哧别都写了半天结果没看清楚题目……需要注意的是<br>1、返回K个最近的点，是全部返回，而不是只返回一个<br>2、保证只有唯一一个解（说明K+1这个点一定比K大）</p>
<h3 id="36-35-90-68-11mins"><a href="#36-35-90-68-11mins" class="headerlink" title="36.35 90.68 11mins"></a>36.35 90.68 11mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] kClosest(<span class="keyword">int</span>[][] points, <span class="keyword">int</span> K) &#123;</span><br><span class="line">        PriorityQueue&lt;PointData&gt; q = <span class="keyword">new</span> PriorityQueue&lt;&gt;((pd1, pd2)-&gt;&#123;</span><br><span class="line">            <span class="keyword">if</span>(pd1.dis == pd2.dis) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(pd1.dis &lt; pd2.dis) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>[] point: points)&#123;</span><br><span class="line">            PointData pd = <span class="keyword">new</span> PointData(point);</span><br><span class="line">            q.offer(pd);</span><br><span class="line">            <span class="keyword">while</span>(q.size() &gt; K) q.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[][] result = <span class="keyword">new</span> <span class="keyword">int</span>[q.size()][];</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(q.size() != <span class="number">0</span>)&#123;</span><br><span class="line">            result[i++] = q.poll().point;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">PointData</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">PointData</span><span class="params">(<span class="keyword">int</span>[] point)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.point = point;</span><br><span class="line">            <span class="keyword">this</span>.dis = point[<span class="number">0</span>]*point[<span class="number">0</span>] + point[<span class="number">1</span>]*point[<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> dis;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span>[] point;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用java的PriorityQueue能够很快给出结果，但是时间上没有优势，待优化。</p>
<h2 id="215-Kth-Largest-Element-in-an-Array"><a href="#215-Kth-Largest-Element-in-an-Array" class="headerlink" title="215. Kth Largest Element in an Array"></a><a href="https://leetcode.com/problems/kth-largest-element-in-an-array/" target="_blank" rel="noopener">215. Kth Largest Element in an Array</a></h2><h3 id="32-77-78-76-40mins"><a href="#32-77-78-76-40mins" class="headerlink" title="32.77 78.76 40mins"></a>32.77 78.76 40mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sort(nums, <span class="number">0</span>, nums.length-<span class="number">1</span>, nums.length-k);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> mid = partition(nums, l, r);</span><br><span class="line">        <span class="keyword">if</span>(mid == i) <span class="keyword">return</span> nums[mid];</span><br><span class="line">        <span class="keyword">if</span>(mid &lt; i) <span class="keyword">return</span> sort(nums, mid+<span class="number">1</span>, r, i);</span><br><span class="line">        <span class="keyword">return</span> sort(nums, l, mid-<span class="number">1</span>, i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">        <span class="comment">//bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(l == r) <span class="keyword">return</span> l;</span><br><span class="line">        <span class="keyword">int</span> i = l, j = r + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(nums[++i] &lt; nums[l])</span><br><span class="line">                <span class="keyword">if</span>(i == r) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">while</span>(nums[l] &lt; nums[--j])</span><br><span class="line">                <span class="keyword">if</span>(j == l) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= j) <span class="keyword">break</span>;</span><br><span class="line">            exchange(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        exchange(nums, l, j);</span><br><span class="line">        <span class="keyword">return</span> j;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">exchange</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用快速排序的变通方法可以得到结果，注意控制边界（bugfix）。<br><strong>tips*</strong>：</p>
<ul>
<li>快排内有玄机，详情见常用算法模板</li>
<li>快拍时间复杂度仅仅为30+，需要优化</li>
</ul>
<h2 id="56-Merge-Intervals"><a href="#56-Merge-Intervals" class="headerlink" title="56. Merge Intervals"></a><a href="https://leetcode.com/problems/merge-intervals/" target="_blank" rel="noopener">56. Merge Intervals</a></h2><h3 id="25-19-36-23-18mins"><a href="#25-19-36-23-18mins" class="headerlink" title="25.19 36.23 18mins"></a>25.19 36.23 18mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] merge(<span class="keyword">int</span>[][] intervals) &#123;</span><br><span class="line">        <span class="keyword">if</span>(intervals.length &lt;= <span class="number">1</span>) <span class="keyword">return</span> intervals;</span><br><span class="line">        <span class="comment">//bugfix wrong: Collections.sort</span></span><br><span class="line">        Arrays.sort(intervals, (l1, l2)-&gt;Integer.compare(l1[<span class="number">0</span>], l2[<span class="number">0</span>]));</span><br><span class="line">        </span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        result.add(intervals[<span class="number">0</span>]);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; intervals.length; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span>[] in = intervals[i];</span><br><span class="line">            <span class="keyword">int</span>[] ou = result.get(result.size()-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(ou[<span class="number">1</span>] &lt; in[<span class="number">0</span>]) result.add(in);</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                result.remove(result.size()-<span class="number">1</span>);</span><br><span class="line">                result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;ou[<span class="number">0</span>], Math.max(ou[<span class="number">1</span>], in[<span class="number">1</span>])&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[][] resultArray = <span class="keyword">new</span> <span class="keyword">int</span>[result.size()][];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result.size(); ++i)&#123;</span><br><span class="line">            resultArray[i] = result.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> resultArray;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>思路</strong></p>
<ul>
<li>按照第一位排序，这样排序好之后，就可以按照顺序依次merge了</li>
<li>TODO: 空间、时间都不优，待优化</li>
</ul>
<h3 id="95-63-71-02"><a href="#95-63-71-02" class="headerlink" title="95.63 71.02"></a>95.63 71.02</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">int</span>[][] merge(<span class="keyword">int</span>[][] intervals) &#123;</span><br><span class="line">        <span class="keyword">int</span> length=intervals.length;</span><br><span class="line">        <span class="keyword">if</span>(length&lt;=<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> intervals;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">int</span>[] start = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        <span class="keyword">int</span>[] end = <span class="keyword">new</span> <span class="keyword">int</span>[length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)&#123;</span><br><span class="line">            start[i]=intervals[i][<span class="number">0</span>];</span><br><span class="line">            end[i]=intervals[i][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(start);</span><br><span class="line">        Arrays.sort(end);</span><br><span class="line">        <span class="keyword">int</span> startIndex=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> endIndex=<span class="number">0</span>;</span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; result = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>(endIndex&lt;length)&#123;</span><br><span class="line">            <span class="comment">//as endIndex==length-1 is evaluated first, start[endIndex+1] will never hit out of index</span></span><br><span class="line">            <span class="keyword">if</span>(endIndex==length-<span class="number">1</span> || start[endIndex+<span class="number">1</span>]&gt;end[endIndex])&#123;</span><br><span class="line">                result.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;start[startIndex],end[endIndex]&#125;);</span><br><span class="line">                startIndex=endIndex+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            endIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[result.size()][]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>tips</strong>:</p>
<ul>
<li>看上去似乎经过了两次排序，但是在java中，对基础类型排序要比对object排序快很多。</li>
<li>思路：<ul>
<li>1.start一组排序，end一组排序；类似一个栈，当出现的start和end相等的时候就可以进行结果插入；</li>
<li>2.或者是算法中所示，取endIndex下一个start为计算标识，如果大就进行上一个interval的结果插入</li>
</ul>
</li>
</ul>
<img src="/facebook-problems/56.png" class="">

<h2 id="253-Meeting-Rooms-II"><a href="#253-Meeting-Rooms-II" class="headerlink" title="253. Meeting Rooms II"></a><a href="https://leetcode.com/problems/meeting-rooms-ii/" target="_blank" rel="noopener">253. Meeting Rooms II</a></h2><h3 id="100-00-75-64"><a href="#100-00-75-64" class="headerlink" title="100.00 75.64"></a>100.00 75.64</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minMeetingRooms</span><span class="params">(<span class="keyword">int</span>[][] intervals)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(intervals.length &lt;= <span class="number">1</span>) <span class="keyword">return</span> intervals.length;</span><br><span class="line">        <span class="keyword">int</span>[] start = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">        <span class="keyword">int</span>[] end = <span class="keyword">new</span> <span class="keyword">int</span>[intervals.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; intervals.length; i++)&#123;</span><br><span class="line">            start[i] = intervals[i][<span class="number">0</span>];</span><br><span class="line">            end[i] = intervals[i][<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(start);</span><br><span class="line">        Arrays.sort(end);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>, tmpResult = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// i means startIndex, j means endIndex</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>,j = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(i &lt; start.length)&#123;</span><br><span class="line">            <span class="keyword">if</span>(end[j] &lt;= start[i])&#123;</span><br><span class="line">                tmpResult --;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                tmpResult ++;</span><br><span class="line">                i ++;</span><br><span class="line">                result = Math.max(result, tmpResult);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>思路</strong>:此题目跟<a href="https://leetcode.com/problems/merge-intervals/" target="_blank" rel="noopener">56. Merge Intervals</a>思路一样</p>
<ul>
<li>start排序，end排序</li>
<li>两者取比较小的数进行计数，start小，则result++；end小于等于，则result–。（注意取临时变量）</li>
</ul>
<h2 id="238-Product-of-Array-Except-Self"><a href="#238-Product-of-Array-Except-Self" class="headerlink" title="238. Product of Array Except Self"></a><a href="https://leetcode.com/problems/product-of-array-except-self/" target="_blank" rel="noopener">238. Product of Array Except Self</a></h2><h3 id="100-00-92-13-15min"><a href="#100-00-92-13-15min" class="headerlink" title="100.00 92.13 15min"></a>100.00 92.13 15min</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] productExceptSelf(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] n1 = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        <span class="keyword">int</span>[] n2 = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        n1[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            n1[i] = nums[i-<span class="number">1</span>] * n1[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        n2[n2.length-<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            n2[n2.length-<span class="number">1</span>-i] = n2[n2.length-i] * nums[nums.length-i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result.length; i++) &#123;</span><br><span class="line">            result[i] = n1[i] * n2[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>tips</strong>:<br>建立两个数组，一个表示前面的乘积，一个表示后面的乘积。(注意数组长度)<br>按照提示思考一下 constant 空间复杂度的解法</p>
<h3 id="100-00-100-00-8mins"><a href="#100-00-100-00-8mins" class="headerlink" title="100.00 100.00 8mins"></a>100.00 100.00 8mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] productExceptSelf(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length];</span><br><span class="line">        result[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; ++i)&#123;</span><br><span class="line">            result[i] = result[i-<span class="number">1</span>] * nums[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> mul = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; ++i)&#123;</span><br><span class="line">            mul *= nums[nums.length-i];</span><br><span class="line">            result[nums.length-<span class="number">1</span>-i] *= mul;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>constant 空间复杂度的解法</p>
<h2 id="560-Subarray-Sum-Equals-K"><a href="#560-Subarray-Sum-Equals-K" class="headerlink" title="560. Subarray Sum Equals K"></a><a href="https://leetcode.com/problems/subarray-sum-equals-k/" target="_blank" rel="noopener">560. Subarray Sum Equals K</a></h2><h3 id="30-78-97-83-38mins"><a href="#30-78-97-83-38mins" class="headerlink" title="30.78 97.83 38mins"></a>30.78 97.83 38mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Num</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        Num(<span class="keyword">int</span> val, <span class="keyword">int</span> index)&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.index = index;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subarraySum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums.length == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span>(nums[<span class="number">0</span>] == k) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        Num[] classNums = <span class="keyword">new</span> Num[nums.length];</span><br><span class="line">        classNums[<span class="number">0</span>] = <span class="keyword">new</span> Num(nums[<span class="number">0</span>], <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            nums[i] += nums[i-<span class="number">1</span>];</span><br><span class="line">            classNums[i] = <span class="keyword">new</span> Num(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(k &gt;= <span class="number">0</span>)</span><br><span class="line">            Arrays.sort(classNums, (n1, n2)-&gt;Integer.compare(n1.val, n2.val));</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            Arrays.sort(classNums, (n1, n2)-&gt;Integer.compare(n2.val, n1.val));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// i &gt;= j</span></span><br><span class="line">        <span class="comment">//bugfix</span></span><br><span class="line">        <span class="keyword">if</span>(k &gt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j &amp;&amp; classNums[i].val == k) res++;</span><br><span class="line">                <span class="keyword">if</span>(classNums[j].val - classNums[i].val &gt; k) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(classNums[j].val - classNums[i].val == k &amp;&amp; classNums[j].index &gt; classNums[i].index) res++;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; nums.length; j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j &amp;&amp; classNums[i].val == k) res++;</span><br><span class="line">                <span class="keyword">if</span>(classNums[j].val - classNums[i].val &lt; k) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">if</span>(classNums[j].val - classNums[i].val == k &amp;&amp; classNums[j].index &gt; classNums[i].index) res++;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>hint</strong>: 在brute-force基础上做改进： 做累加 –&gt; 排个序（可以少比几次）–&gt;依次相减，但要判断index前后。</p>
<p>总结：可以看出这么写很容易出错。而且时间复杂度是N^2，空间复杂度是N。还不如直接累加完之后，brute-force。待优化。</p>
<p>用map是比较好的写法，可以看到solution里面有。很不错。</p>
<h2 id="31-Next-Permutation"><a href="#31-Next-Permutation" class="headerlink" title="31. Next Permutation"></a><a href="https://leetcode.com/problems/next-permutation/" target="_blank" rel="noopener">31. Next Permutation</a></h2><h3 id="100-00-31-00-40min"><a href="#100-00-31-00-40min" class="headerlink" title="100.00 31.00 40min"></a>100.00 31.00 40min</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length &lt;= <span class="number">1</span>) <span class="keyword">return</span>; </span><br><span class="line">        <span class="keyword">int</span> i = nums.length - <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>( i &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] == nums[i+<span class="number">1</span>]) i--;</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(i == -<span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] &lt; nums[i+<span class="number">1</span>])&#123;</span><br><span class="line">            swap(nums, i, i+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>( i &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt;= nums[i+<span class="number">1</span>]) i--;</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i == -<span class="number">1</span>)&#123;</span><br><span class="line">            swapAll(nums, <span class="number">0</span>, nums.length-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// wrong here, bugfix</span></span><br><span class="line">        <span class="keyword">int</span> j = findBigger(nums, i+<span class="number">1</span>, nums[i]);</span><br><span class="line">        swap(nums, i, j);</span><br><span class="line">        swapAll(nums, i+<span class="number">1</span>, nums.length-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findBigger</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> targ)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = start;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = start; i &lt; nums.length; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &lt;= targ) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &lt;= nums[result]) result = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swapAll</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = start, j = end;i&lt;j;i++,j--)&#123;</span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>tips</strong>:<br>思考四种情况，分别处理。注意第四种，一开始处理方式不对，耽误了很长时间：找到后面大于flag的第一个值，swap后，把后面的全部swap。</p>
<img src="/facebook-problems/31.png" class="">

<h2 id="986-Interval-List-Intersections"><a href="#986-Interval-List-Intersections" class="headerlink" title="986. Interval List Intersections"></a><a href="https://leetcode.com/problems/interval-list-intersections/" target="_blank" rel="noopener">986. Interval List Intersections</a></h2><h3 id="99-93-78-38-15mins"><a href="#99-93-78-38-15mins" class="headerlink" title="99.93 78.38 15mins"></a>99.93 78.38 15mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] intervalIntersection(<span class="keyword">int</span>[][] A, <span class="keyword">int</span>[][] B) &#123;</span><br><span class="line">        <span class="keyword">if</span>(A.length == <span class="number">0</span> || B.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>][];</span><br><span class="line">        </span><br><span class="line">        List&lt;<span class="keyword">int</span>[]&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i &lt; A.length &amp;&amp; j &lt; B.length;) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] tmp = inter(A[i], B[j]);</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">null</span> != tmp) res.add(tmp);</span><br><span class="line">            <span class="keyword">if</span>(A[i][<span class="number">1</span>] &gt;= B[j][<span class="number">1</span>]) j++;</span><br><span class="line">            <span class="keyword">else</span> i++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res.toArray(<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>][]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span>[] inter(<span class="keyword">int</span>[] a, <span class="keyword">int</span>[] b) &#123;</span><br><span class="line">        <span class="comment">// 判断是否存在交集，利用线段中心距离 和 线段长度之和做比较</span></span><br><span class="line">        <span class="keyword">if</span>( Math.abs((a[<span class="number">0</span>]+a[<span class="number">1</span>]) - (b[<span class="number">0</span>]+b[<span class="number">1</span>])) &lt;= (b[<span class="number">1</span>]-b[<span class="number">0</span>] + a[<span class="number">1</span>] - a[<span class="number">0</span>]))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;Math.max(a[<span class="number">0</span>], b[<span class="number">0</span>]), Math.min(a[<span class="number">1</span>], b[<span class="number">1</span>])&#125;;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="98-Validate-Binary-Search-Tree"><a href="#98-Validate-Binary-Search-Tree" class="headerlink" title="98. Validate Binary Search Tree"></a><a href="https://leetcode.com/problems/validate-binary-search-tree/" target="_blank" rel="noopener">98. Validate Binary Search Tree</a></h2><h3 id="100-00-79-54-20mins"><a href="#100-00-79-54-20mins" class="headerlink" title="100.00 79.54 20mins"></a>100.00 79.54 20mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidBST</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">boolean</span> leftB = <span class="keyword">true</span>, rightB = <span class="keyword">true</span>;</span><br><span class="line">        TreeNode lr = leftRight(root);</span><br><span class="line">        TreeNode rl = rightLeft(root);</span><br><span class="line">        <span class="keyword">if</span>(root.left != <span class="keyword">null</span>)</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">if</span>(root.left.val &lt; root.val &amp;&amp; (lr == <span class="keyword">null</span> || lr.val &lt; root.val)) leftB = isValidBST(root.left);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(root.right != <span class="keyword">null</span>)</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">if</span>(root.right.val &gt; root.val &amp;&amp; (rl == <span class="keyword">null</span> || rl.val &gt; root.val)) rightB = isValidBST(root.right);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> leftB&amp;&amp;rightB;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">TreeNode <span class="title">leftRight</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root.left == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode result = root.left;</span><br><span class="line">        <span class="keyword">while</span>(result.right != <span class="keyword">null</span>) result = result.right;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">TreeNode <span class="title">rightLeft</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root.right == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode result = root.right;</span><br><span class="line">        <span class="keyword">while</span>(result.left != <span class="keyword">null</span>) result = result.left;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>思路</strong>：</p>
<ul>
<li>对于图1的三元节点，保证 左&lt;中&lt;右 的大小顺序</li>
<li>左子树的最右边节点 &lt; 中 &lt; 右子数的最左边节点哈罗芬瑟到了可热了狂热冷酷日</li>
</ul>
<h2 id="199-Binary-Tree-Right-Side-View"><a href="#199-Binary-Tree-Right-Side-View" class="headerlink" title="199. Binary Tree Right Side View"></a><a href="https://leetcode.com/problems/binary-tree-right-side-view/" target="_blank" rel="noopener">199. Binary Tree Right Side View</a></h2><h3 id="98-32-100-00-12mins"><a href="#98-32-100-00-12mins" class="headerlink" title="98.32 100.00 12mins"></a>98.32 100.00 12mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">rightSideView</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">        TreeNode sentinal = <span class="keyword">new</span> TreeNode(<span class="number">0</span>);</span><br><span class="line">        TreeNode lastNode = <span class="keyword">null</span>;</span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        q.offer(root);</span><br><span class="line">        q.offer(sentinal);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(q.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            TreeNode tmp = q.poll();</span><br><span class="line">            <span class="keyword">if</span>(tmp != sentinal) lastNode = tmp;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                res.add(lastNode.val);</span><br><span class="line">                <span class="keyword">if</span>(q.size() != <span class="number">0</span>) q.offer(tmp);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(tmp.left != <span class="keyword">null</span>) q.offer(tmp.left);</span><br><span class="line">            <span class="keyword">if</span>(tmp.right != <span class="keyword">null</span>) q.offer(tmp.right);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用队列和哨兵位，注意哨兵归放到队尾的时候要判断一下当前队列是否为空</p>
<h2 id="621-Task-Scheduler"><a href="#621-Task-Scheduler" class="headerlink" title="621. Task Scheduler"></a><a href="https://leetcode.com/problems/task-scheduler/" target="_blank" rel="noopener">621. Task Scheduler</a></h2><h3 id="AFTER-FAIL-41-12-86-76-26mins-TODO"><a href="#AFTER-FAIL-41-12-86-76-26mins-TODO" class="headerlink" title="AFTER FAIL: 41.12 86.76 26mins TODO"></a>AFTER FAIL: 41.12 86.76 26mins TODO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">leastInterval</span><span class="params">(<span class="keyword">char</span>[] tasks, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(tasks.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] data = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c: tasks)</span><br><span class="line">            data[c-<span class="string">'A'</span>]++;</span><br><span class="line">        PriorityQueue&lt;Integer&gt; q = <span class="keyword">new</span> PriorityQueue&lt;&gt;(Collections.reverseOrder());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i: data)</span><br><span class="line">            <span class="keyword">if</span>(i != <span class="number">0</span>)</span><br><span class="line">                q.offer(i);</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(q.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            List&lt;Integer&gt; buf = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            <span class="comment">// bugfix n+1 ||</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n+<span class="number">1</span> &amp;&amp; (buf.size()!=<span class="number">0</span> || q.size()!=<span class="number">0</span>); i++)&#123;</span><br><span class="line">                result ++;</span><br><span class="line">                <span class="comment">//bugfix</span></span><br><span class="line">                <span class="keyword">if</span>(q.size() != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> t = q.poll();</span><br><span class="line">                    <span class="keyword">if</span>(--t &gt; <span class="number">0</span>) buf.add(t);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(Integer i: buf) </span><br><span class="line">                q.offer(i);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用PriorityQueue做。第一次没想出来。<br><strong>思路</strong>：</p>
<ul>
<li>优先队列整理数据</li>
<li>依次取前n个数字，放到结果中，如果数字用完就不放回去，如果没用完则放回队列，重复此操作。</li>
<li>注意几个bugfix细节点</li>
</ul>
<p>最后的时间只有42，还有优化空间。复杂度是 nlog(n)?</p>
<h2 id="15-3Sum-1"><a href="#15-3Sum-1" class="headerlink" title="15. 3Sum"></a><a href="https://leetcode.com/problems/3sum/" target="_blank" rel="noopener">15. 3Sum</a></h2><h3 id="8-82-41-34-60mins-TODO"><a href="#8-82-41-34-60mins-TODO" class="headerlink" title="8.82 41.34 60mins TODO"></a>8.82 41.34 60mins TODO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length-<span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// duplicate, continue</span></span><br><span class="line">            <span class="keyword">if</span>(i != <span class="number">0</span> &amp;&amp; nums[i] == nums[i-<span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            Map&lt;Integer, List&lt;List&lt;Integer&gt;&gt;&gt; sum2Map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            Set&lt;Integer&gt; done = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; nums.length; j++)&#123;</span><br><span class="line">                <span class="comment">// bugfix</span></span><br><span class="line">                <span class="comment">// if(j != i + 1 &amp;&amp; nums[j] == nums[j-1]) continue;</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span>(done.contains(nums[j])) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(sum2Map.containsKey(-nums[j]))&#123;</span><br><span class="line">                    done.add(nums[j]);</span><br><span class="line">                    <span class="keyword">for</span>(List&lt;Integer&gt; l: sum2Map.get(-nums[j]))&#123;</span><br><span class="line">                        l.add(nums[j]);</span><br><span class="line">                        res.add(l);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> sum2 = nums[i] + nums[j];</span><br><span class="line">                <span class="comment">// bugfix</span></span><br><span class="line">                <span class="keyword">if</span>(sum2Map.containsKey(sum2)) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(!sum2Map.containsKey(sum2)) sum2Map.put(sum2, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 注意顺序</span></span><br><span class="line">                List&lt;Integer&gt; tmpL = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                tmpL.add(nums[i]);</span><br><span class="line">                tmpL.add(nums[j]);</span><br><span class="line">                sum2Map.get(sum2).add(tmpL);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>算法复杂度为 O(n^2)。要点在于排重。我是靠<strong>排序</strong>作为排重手段的。<br><strong>流程</strong>：</p>
<ul>
<li>先排序，然后O(n^2)遍历</li>
<li>注意i的排重逻辑是判断跟前一个是否一样。</li>
<li>轮询到j的时候，应该先算结果（看看本次ij循环前面，是否包含结果）；再进行sum的排重。</li>
</ul>
<h2 id="133-Clone-Graph-FAIL"><a href="#133-Clone-Graph-FAIL" class="headerlink" title="133. Clone Graph(FAIL)"></a><a href="https://leetcode.com/problems/clone-graph/" target="_blank" rel="noopener">133. Clone Graph</a>(FAIL)</h2><h3 id="正解"><a href="#正解" class="headerlink" title="正解"></a>正解</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">    public int val;</span></span><br><span class="line"><span class="comment">    public List&lt;Node&gt; neighbors;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node() &#123;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node(int _val,List&lt;Node&gt; _neighbors) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">        neighbors = _neighbors;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">cloneGraph</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">        Map&lt;Node, Node&gt; cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">return</span> clone(node, cache);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">clone</span><span class="params">(Node node, Map&lt;Node, Node&gt; cache)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(cache.containsKey(node)) <span class="keyword">return</span> cache.get(node);</span><br><span class="line">        Node copy = <span class="keyword">new</span> Node(node.val, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        cache.put(node, copy);</span><br><span class="line">        <span class="keyword">if</span>(node.neighbors == <span class="keyword">null</span>) <span class="keyword">return</span> copy;</span><br><span class="line">        <span class="keyword">for</span>(Node n: node.neighbors)</span><br><span class="line">            copy.neighbors.add(clone(n, cache));</span><br><span class="line">        <span class="keyword">return</span> copy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>一开始的思路相当复杂：<br>每个无向图相当于有向图，只不过边是双向的而已。之前做个一个类似的“图的复制”题目，记得当时题目的解法是：在每个节点后面加一个哨兵节点，最后把所有的哨兵节点连接起来，就跟之前的图相同。但是我这么做之后，会被判为返回引用，很奇怪。</p>
<p>此题目的正解也十分简单：使用map保留新图和旧图中node的对应关系，使用dfs即可。</p>
<p><strong>图的复制</strong>一类的题目都可以向上面两个思路靠。后者简单一些。</p>
<h2 id="173-Binary-Search-Tree-Iterator"><a href="#173-Binary-Search-Tree-Iterator" class="headerlink" title="173. Binary Search Tree Iterator"></a><a href="https://leetcode.com/problems/binary-search-tree-iterator/" target="_blank" rel="noopener">173. Binary Search Tree Iterator</a></h2><h3 id="18-55-92-59-7mins"><a href="#18-55-92-59-7mins" class="headerlink" title="18.55 92.59 7mins"></a>18.55 92.59 7mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BSTIterator</span> </span>&#123;</span><br><span class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BSTIterator</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        traverse(root);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** <span class="doctag">@return</span> the next smallest number */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> q.poll();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** <span class="doctag">@return</span> whether we have a next smallest number */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !q.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        traverse(root.left);</span><br><span class="line">        q.offer(root.val);</span><br><span class="line">        traverse(root.right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用 队列先进先出的特性 + 先序遍历。可以实现。但是时间复杂度较高，TODO 其他解法。TODO</p>
<h2 id="161-One-Edit-Distance"><a href="#161-One-Edit-Distance" class="headerlink" title="161. One Edit Distance"></a><a href="https://leetcode.com/problems/one-edit-distance/" target="_blank" rel="noopener">161. One Edit Distance</a></h2><h3 id="99-56-100-20mins"><a href="#99-56-100-20mins" class="headerlink" title="99.56 100 20mins"></a>99.56 100 20mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOneEditDistance</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.equals(t)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// bugfix: 对于到达length的边界没有控制</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        for(int i = 0; i &lt; s.length() &amp;&amp; i &lt; t.length(); ++i)</span></span><br><span class="line"><span class="comment">            if(s.charAt(i) != t.charAt(i)) &#123;</span></span><br><span class="line"><span class="comment">                s = s.substring(i);</span></span><br><span class="line"><span class="comment">                t = t.substring(i);</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        **/</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; s.length() &amp;&amp; i &lt; t.length() &amp;&amp; s.charAt(i) == t.charAt(i)) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= s.length() || i &gt;= t.length()) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        s = s.substring(i);</span><br><span class="line">        t = t.substring(i);</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">// insert</span></span><br><span class="line">        <span class="keyword">if</span>(s.length() == t.length()-<span class="number">1</span> &amp;&amp; t.substring(<span class="number">1</span>).equals(s)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// delete</span></span><br><span class="line">        <span class="keyword">if</span>(s.length() == t.length()+<span class="number">1</span> &amp;&amp; s.substring(<span class="number">1</span>).equals(t)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="comment">// replace</span></span><br><span class="line">        <span class="keyword">if</span>(s.length() == t.length() &amp;&amp; s.substring(<span class="number">1</span>).equals(t.substring(<span class="number">1</span>))) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>从左到右扫描，遇到不同的一个字分三种情况比对即可.有bug，for循环无法进入到达length的情况</p>
<h2 id="211-Add-and-Search-Word-Data-structure-design"><a href="#211-Add-and-Search-Word-Data-structure-design" class="headerlink" title="211. Add and Search Word - Data structure design"></a><a href="https://leetcode.com/problems/add-and-search-word-data-structure-design/" target="_blank" rel="noopener">211. Add and Search Word - Data structure design</a></h2><h3 id="85-20-81-82-25mins"><a href="#85-20-81-82-25mins" class="headerlink" title="85.20 81.82 25mins"></a>85.20 81.82 25mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordDictionary</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> Node[] nodes;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">boolean</span> end;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span></span>&#123;</span><br><span class="line">            nodes = <span class="keyword">new</span> Node[<span class="number">26</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Node node;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordDictionary</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        node = <span class="keyword">new</span> Node();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Adds a word into the data structure. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        Node sentinel = node;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c: word.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(sentinel.nodes[c-<span class="string">'a'</span>] == <span class="keyword">null</span>) sentinel.nodes[c-<span class="string">'a'</span>] = <span class="keyword">new</span> Node();</span><br><span class="line">            sentinel = sentinel.nodes[c-<span class="string">'a'</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        sentinel.end = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns if the word is in the data structure. A word could contain the dot character '.' to represent any one letter. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> search(word, node);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word, Node node)</span> </span>&#123;</span><br><span class="line">        Node sentinel = node;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++)&#123;</span><br><span class="line">            <span class="keyword">char</span> c = word.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>(c != <span class="string">'.'</span>)</span><br><span class="line">                <span class="keyword">if</span>(sentinel.nodes[c-<span class="string">'a'</span>] == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">                <span class="keyword">else</span> sentinel = sentinel.nodes[c-<span class="string">'a'</span>];</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// bugfix boolean allNull = true;</span></span><br><span class="line">                <span class="keyword">for</span>(Node n: sentinel.nodes)</span><br><span class="line">                    <span class="keyword">if</span>(n != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        <span class="comment">// bugfix allNull = false;</span></span><br><span class="line">                        <span class="keyword">if</span>(search(word.substring(i+<span class="number">1</span>), n)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="comment">// bugfix if(allNull) return false;</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sentinel.end;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your WordDictionary object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * WordDictionary obj = new WordDictionary();</span></span><br><span class="line"><span class="comment"> * obj.addWord(word);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.search(word);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<p>经典的字典树，与之前思路不一样的是，之前我一直使用数组，而本次使用了根节点。对于空串的判断方便了很多。作为例子记住。<br>另外存在一个bug：不存在那个bool判断，请注意。</p>
<h2 id="304-Range-Sum-Query-2D-Immutable"><a href="#304-Range-Sum-Query-2D-Immutable" class="headerlink" title="304. Range Sum Query 2D - Immutable"></a><a href="https://leetcode.com/problems/range-sum-query-2d-immutable/" target="_blank" rel="noopener">304. Range Sum Query 2D - Immutable</a></h2><h3 id="43-84-100-00-20mins"><a href="#43-84-100-00-20mins" class="headerlink" title="43.84 100.00 20mins"></a>43.84 100.00 20mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumMatrix</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[][] sum;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">NumMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        sum = <span class="keyword">new</span> <span class="keyword">int</span>[matrix.length+<span class="number">1</span>][matrix[<span class="number">0</span>].length+<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        sum[<span class="number">1</span>][<span class="number">1</span>] = matrix[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; matrix[<span class="number">0</span>].length; i++)</span><br><span class="line">            sum[<span class="number">1</span>][i+<span class="number">1</span>] = matrix[<span class="number">0</span>][i] + sum[<span class="number">1</span>][i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; matrix.length; i++)</span><br><span class="line">            sum[i+<span class="number">1</span>][<span class="number">1</span>] = matrix[i][<span class="number">0</span>] + sum[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; matrix.length; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; matrix[i].length; j++)</span><br><span class="line">                sum[i+<span class="number">1</span>][j+<span class="number">1</span>] = matrix[i][j] + sum[i][j+<span class="number">1</span>] + sum[i+<span class="number">1</span>][j] - sum[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRegion</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sum[row2+<span class="number">1</span>][col2+<span class="number">1</span>] + sum[row1][col1] - sum[row1][col2+<span class="number">1</span>] - sum[row2+<span class="number">1</span>][col1];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your NumMatrix object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * NumMatrix obj = new NumMatrix(matrix);</span></span><br><span class="line"><span class="comment"> * int param_1 = obj.sumRegion(row1,col1,row2,col2);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p>不可变的二维数组，求和。比较常规。较为普通写法改进的是，新建空间的时候多建了一行，这样在计算的时候就不需要判断0了。</p>
<h2 id="311-Sparse-Matrix-Multiplication"><a href="#311-Sparse-Matrix-Multiplication" class="headerlink" title="311. Sparse Matrix Multiplication"></a><a href="https://leetcode.com/problems/sparse-matrix-multiplication/" target="_blank" rel="noopener">311. Sparse Matrix Multiplication</a></h2><h3 id="25-55-100-00-6mins"><a href="#25-55-100-00-6mins" class="headerlink" title="25.55 100.00 6mins"></a>25.55 100.00 6mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] multiply(<span class="keyword">int</span>[][] A, <span class="keyword">int</span>[][] B) &#123;</span><br><span class="line">        <span class="keyword">int</span>[][] res = <span class="keyword">new</span> <span class="keyword">int</span>[A.length][B[<span class="number">0</span>].length];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.length; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; res[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> ind = <span class="number">0</span>; ind &lt; A[i].length; ind++)</span><br><span class="line">                    n += A[i][ind] * B[ind][j];</span><br><span class="line">                res[i][j] = n;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不考虑稀疏矩阵，时间排名为25，后面针对这一点进行优化。</p>
<h3 id="44-08-100-00"><a href="#44-08-100-00" class="headerlink" title="44.08 100.00"></a>44.08 100.00</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] multiply(<span class="keyword">int</span>[][] A, <span class="keyword">int</span>[][] B) &#123;</span><br><span class="line">        Map&lt;Integer, Set&lt;Integer&gt;&gt; aData = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;Integer, Set&lt;Integer&gt;&gt; bData = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.length; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; A[<span class="number">0</span>].length; j++)</span><br><span class="line">                <span class="keyword">if</span>(A[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(!aData.containsKey(j)) aData.put(j, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">                    aData.get(j).add(i);</span><br><span class="line">                &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; B.length; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; B[<span class="number">0</span>].length; j++)</span><br><span class="line">                <span class="keyword">if</span>(B[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(!bData.containsKey(i)) bData.put(i, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">                    bData.get(i).add(j);</span><br><span class="line">                &#125;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[][] res = <span class="keyword">new</span> <span class="keyword">int</span>[A.length][B[<span class="number">0</span>].length];</span><br><span class="line">        <span class="comment">//for(Integer i: aData.keySet())</span></span><br><span class="line">            <span class="comment">// bugfix 这样只算了中轴线上的点</span></span><br><span class="line">            <span class="comment">//if(bData.containsKey(i))</span></span><br><span class="line">                <span class="comment">//for(Integer j: aData.get(i))</span></span><br><span class="line">                    <span class="comment">//if(bData.get(i).contains(j))</span></span><br><span class="line">                        <span class="comment">//res[i][j] += A[i][j] * B[j][i];</span></span><br><span class="line">        <span class="keyword">for</span>(Integer j: aData.keySet())</span><br><span class="line">            <span class="keyword">for</span>(Integer i: aData.get(j))</span><br><span class="line">                <span class="keyword">if</span>(bData.containsKey(j))</span><br><span class="line">                    <span class="keyword">for</span>(Integer jj: bData.get(j))</span><br><span class="line">                        <span class="comment">// bugfix res[i][jj] += A[i][j]*B[i][jj]</span></span><br><span class="line">                        res[i][jj] += A[i][j]*B[j][jj];</span><br><span class="line">                        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用两个map存储稀疏图的数据。然后做处理。注意最后计算的时候的坐标，很难想，绕不过来</p>
<h2 id="438-Find-All-Anagrams-in-a-String"><a href="#438-Find-All-Anagrams-in-a-String" class="headerlink" title="438. Find All Anagrams in a String"></a><a href="https://leetcode.com/problems/find-all-anagrams-in-a-string/" target="_blank" rel="noopener">438. Find All Anagrams in a String</a></h2><h3 id="22-89-88-00-TODO"><a href="#22-89-88-00-TODO" class="headerlink" title="22.89 88.00 TODO"></a>22.89 88.00 TODO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findAnagrams</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">        Map&lt;Character, Integer&gt; pattern = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;Character, Integer&gt; cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() &lt; p.length()) <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// make pattern</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c: p.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!pattern.containsKey(c)) pattern.put(c, <span class="number">0</span>);</span><br><span class="line">            pattern.put(c, pattern.get(c)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// make first p length chars</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(;i&lt;p.length();i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!cache.containsKey(s.charAt(i))) cache.put(s.charAt(i), <span class="number">0</span>);</span><br><span class="line">            cache.put(s.charAt(i), cache.get(s.charAt(i)) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// iteration</span></span><br><span class="line">        <span class="keyword">for</span>(;i&lt;s.length();i++) &#123;</span><br><span class="line">            <span class="comment">// bugfix pattern.equals(cache)</span></span><br><span class="line">            <span class="keyword">if</span>(mapEquals(pattern, cache)) res.add(i-p.length());</span><br><span class="line">            <span class="keyword">if</span>(!cache.containsKey(s.charAt(i))) cache.put(s.charAt(i), <span class="number">0</span>);</span><br><span class="line">            cache.put(s.charAt(i), cache.get(s.charAt(i)) + <span class="number">1</span>);</span><br><span class="line">            cache.put(s.charAt(i-p.length()), cache.get(s.charAt(i-p.length())) - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(mapEquals(pattern, cache)) res.add(i-p.length());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">mapEquals</span><span class="params">(Map&lt;Character, Integer&gt; m1, Map&lt;Character, Integer&gt; m2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mapEqualsInner(m1, m2) &amp;&amp; mapEqualsInner(m2, m1);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">mapEqualsInner</span><span class="params">(Map&lt;Character, Integer&gt; m1, Map&lt;Character, Integer&gt; m2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(Character c: m1.keySet())</span><br><span class="line">            <span class="keyword">if</span>(m1.get(c) != <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">if</span>(!m1.get(c).equals(m2.get(c)))</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思路比较常规，一个指针从头到位即可。但是待优化。</p>
<h2 id="426-Convert-Binary-Search-Tree-to-Sorted-Doubly-Linked-List"><a href="#426-Convert-Binary-Search-Tree-to-Sorted-Doubly-Linked-List" class="headerlink" title="426. Convert Binary Search Tree to Sorted Doubly Linked List"></a><a href="https://leetcode.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list/" target="_blank" rel="noopener">426. Convert Binary Search Tree to Sorted Doubly Linked List</a></h2><h3 id="100-00-6-90-18mins-TODO"><a href="#100-00-6-90-18mins-TODO" class="headerlink" title="100.00 6.90 18mins TODO"></a>100.00 6.90 18mins TODO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// Definition for a Node.</span></span><br><span class="line"><span class="comment">class Node &#123;</span></span><br><span class="line"><span class="comment">    public int val;</span></span><br><span class="line"><span class="comment">    public Node left;</span></span><br><span class="line"><span class="comment">    public Node right;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node() &#123;&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    public Node(int _val,Node _left,Node _right) &#123;</span></span><br><span class="line"><span class="comment">        val = _val;</span></span><br><span class="line"><span class="comment">        left = _left;</span></span><br><span class="line"><span class="comment">        right = _right;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">treeToDoublyList</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        Node[] nodes = trans(root);</span><br><span class="line">        <span class="keyword">return</span> nodes[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Node[] trans(Node root) &#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            root.right = root;</span><br><span class="line">            root.left = root;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Node[]&#123;root, root&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root.left == <span class="keyword">null</span>) &#123;</span><br><span class="line">            Node[] nodes = trans(root.right);</span><br><span class="line">            root.right = nodes[<span class="number">0</span>];</span><br><span class="line">            nodes[<span class="number">1</span>].right = root;</span><br><span class="line">            root.left = nodes[<span class="number">1</span>];</span><br><span class="line">            nodes[<span class="number">0</span>].left = root;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Node[]&#123;root, nodes[<span class="number">1</span>]&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(root.right == <span class="keyword">null</span>) &#123;</span><br><span class="line">            Node[] nodes = trans(root.left);</span><br><span class="line">            nodes[<span class="number">1</span>].right = root;</span><br><span class="line">            root.right = nodes[<span class="number">0</span>];</span><br><span class="line">            root.left = nodes[<span class="number">1</span>];</span><br><span class="line">            nodes[<span class="number">0</span>].left = root;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Node[]&#123;nodes[<span class="number">0</span>], root&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        Node[] nodes0 = trans(root.left);</span><br><span class="line">        Node[] nodes1 = trans(root.right);</span><br><span class="line">        </span><br><span class="line">        nodes0[<span class="number">1</span>].right = root;</span><br><span class="line">        root.right = nodes1[<span class="number">0</span>];</span><br><span class="line">        nodes1[<span class="number">1</span>].right = nodes0[<span class="number">0</span>];</span><br><span class="line">        </span><br><span class="line">        root.left = nodes0[<span class="number">1</span>];</span><br><span class="line">        nodes0[<span class="number">0</span>].left = nodes1[<span class="number">1</span>];</span><br><span class="line">        nodes1[<span class="number">0</span>].left = root;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Node[]&#123;nodes0[<span class="number">0</span>], nodes1[<span class="number">1</span>]&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思路：divide and conquer。分治法的经典应用。使用子树的结果，拼成总体的结果即可。但是空间复杂度很高。待优化</p>
<h2 id="670-Maximum-Swap"><a href="#670-Maximum-Swap" class="headerlink" title="670. Maximum Swap"></a><a href="https://leetcode.com/problems/maximum-swap/" target="_blank" rel="noopener">670. Maximum Swap</a></h2><h3 id="FAIL-1"><a href="#FAIL-1" class="headerlink" title="FAIL"></a>FAIL</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">// bugfix: testcase 122 -&gt; 221 not 212</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumSwap</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> res = num;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>, nj = <span class="number">0</span>, ni = <span class="number">0</span>, iter = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(num != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// find i j</span></span><br><span class="line">            <span class="keyword">int</span> current = num % <span class="number">10</span>;</span><br><span class="line">            num /= <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(num == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">int</span> next = num % <span class="number">10</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(current &gt; next) &#123;</span><br><span class="line">                i = iter+<span class="number">1</span>;</span><br><span class="line">                ni = next;</span><br><span class="line">                <span class="keyword">if</span>(current &gt; nj) &#123;</span><br><span class="line">                    nj = current;</span><br><span class="line">                    j = iter;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// bugfix</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (current == next) &#123;</span><br><span class="line">                </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            iter ++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        res -= ni * tens(i);</span><br><span class="line">        </span><br><span class="line">        res -= nj * tens(j);</span><br><span class="line">        </span><br><span class="line">        res += ni * tens(j);</span><br><span class="line">        res += nj * tens(i);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">tens</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(i == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> t = <span class="number">0</span>; t &lt; i; t++) res *= <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思路：</p>
<ul>
<li>寻找从右向左的递减的序列，找峰值，但是要考虑相等的值的情况。</li>
<li>想起来十分复杂，不易实现。可以优化为答案的贪心算法。</li>
</ul>
<h2 id="34-Find-First-and-Last-Position-of-Element-in-Sorted-Array"><a href="#34-Find-First-and-Last-Position-of-Element-in-Sorted-Array" class="headerlink" title="34. Find First and Last Position of Element in Sorted Array"></a><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/" target="_blank" rel="noopener">34. Find First and Last Position of Element in Sorted Array</a></h2><h3 id="100-97-16-25mins"><a href="#100-97-16-25mins" class="headerlink" title="100 97.16 25mins"></a>100 97.16 25mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">if</span>(nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        <span class="comment">// l r included</span></span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r-l)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] &gt; target) &#123;</span><br><span class="line">                r = mid-<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] &lt; target) &#123;</span><br><span class="line">                l = mid+<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res[<span class="number">0</span>] = first(nums, target, l, mid);</span><br><span class="line">                res[<span class="number">1</span>] =  last(nums, target, mid, r);</span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// l = r</span></span><br><span class="line">        <span class="keyword">if</span>(nums[l] == target) &#123;</span><br><span class="line">            res[<span class="number">0</span>] = res[<span class="number">1</span>] = l;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// must have</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">first</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r-l)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == target) r = mid;</span><br><span class="line">            <span class="keyword">else</span> l = mid+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">last</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + (r-l)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(nums[mid] == target) &#123;</span><br><span class="line">                <span class="comment">//bugfix</span></span><br><span class="line">                <span class="keyword">if</span>(l == mid) &#123;</span><br><span class="line">                    <span class="keyword">return</span> nums[r] == target ? r : l;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> l = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> r = mid-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思路：</p>
<ul>
<li>二分查找为了好让循环停止，所以使用<strong>包含</strong>边界的写法。这样只要写&lt;就可以了。</li>
<li>又写出了一个死循环bug。因为 写法是 mid = l+(l-r)/2，边界以左边界作为基准移动。所以在移动左边界的时候，其实跟右边界是不对等的。所以要判断一下移动左边界的特殊情况。</li>
</ul>
<h2 id="721-Accounts-Merge"><a href="#721-Accounts-Merge" class="headerlink" title="721. Accounts Merge"></a><a href="https://leetcode.com/problems/accounts-merge/" target="_blank" rel="noopener">721. Accounts Merge</a></h2><h3 id="FAIL-2"><a href="#FAIL-2" class="headerlink" title="FAIL"></a>FAIL</h3><ul>
<li>这其实是图问题</li>
<li>一个Account就是一个图，一个mail是一个点，就看点和点之间是否存在边</li>
<li>如果是图，可以使用dfs。TODO</li>
<li>可以使用并查集进行数据的处理，但是没有抽象成数据模型。</li>
</ul>
<h3 id="并查集-60mins"><a href="#并查集-60mins" class="headerlink" title="并查集 60mins"></a>并查集 60mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; accountsMerge(List&lt;List&lt;String&gt;&gt; accounts) &#123;</span><br><span class="line">        Map&lt;String, Integer&gt; mail2Id = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;Integer, String&gt; id2Name = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        DSU dsu = <span class="keyword">new</span> DSU();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[] id = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(List&lt;String&gt; l: accounts)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; l.size(); i++) &#123;</span><br><span class="line">                String mail = l.get(i);</span><br><span class="line">                <span class="comment">// must be final</span></span><br><span class="line">                <span class="keyword">int</span> mailId = mail2Id.computeIfAbsent(mail, x-&gt;id[<span class="number">0</span>]++);</span><br><span class="line">                <span class="keyword">if</span>(i &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                    String lastMail = l.get(i-<span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">int</span> lastId = mail2Id.get(lastMail);</span><br><span class="line">                    dsu.union(lastId, mailId);</span><br><span class="line">                &#125;</span><br><span class="line">                id2Name.put(mailId, l.get(<span class="number">0</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">        Map&lt;Integer, List&lt;String&gt;&gt; id2Account = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;String, Integer&gt; entry: mail2Id.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">int</span> p = dsu.find(entry.getValue());</span><br><span class="line">            id2Account.computeIfAbsent(p, x-&gt;<span class="keyword">new</span> LinkedList&lt;&gt;()).add(entry.getKey());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        List&lt;List&lt;String&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Integer, List&lt;String&gt;&gt; entry: id2Account.entrySet()) &#123;</span><br><span class="line">            String name = id2Name.get(entry.getKey());</span><br><span class="line">            Collections.sort(entry.getValue());</span><br><span class="line">            entry.getValue().add(<span class="number">0</span>, name);</span><br><span class="line">            res.add(entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DSU</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] parent;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">DSU</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            parent = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10001</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">10000</span>; ++i)</span><br><span class="line">                parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (parent[x] != x) parent[x] = find(parent[x]);</span><br><span class="line">            <span class="keyword">return</span> parent[x];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// x &lt;- y</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">            parent[find(y)] = find(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>已有思路的情况下，用的时间还是比较慢的。注意DSU的写法，牢记。<br>时间复杂度是30，并不是最佳。TODO<br>思路：</p>
<ul>
<li>每个list 两两union</li>
<li>遍历mail表，寻找每个的根节点，生成结果。</li>
</ul>
<h2 id="785-Is-Graph-Bipartite"><a href="#785-Is-Graph-Bipartite" class="headerlink" title="785. Is Graph Bipartite?"></a><a href="https://leetcode.com/problems/is-graph-bipartite/" target="_blank" rel="noopener">785. Is Graph Bipartite?</a></h2><h3 id="32-82-63-42-29mins-TODO"><a href="#32-82-63-42-29mins-TODO" class="headerlink" title="32.82 63.42 29mins TODO"></a>32.82 63.42 29mins TODO</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; a = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        Set&lt;Integer&gt; b = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        Set&lt;Integer&gt; done = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; graph.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(done.contains(i)) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(!dfs(graph, i, a, b, done)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] graph, <span class="keyword">int</span> v, Set&lt;Integer&gt; a, Set&lt;Integer&gt; b, Set&lt;Integer&gt; done)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.contains(v)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        a.add(v);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> u: graph[v]) &#123;</span><br><span class="line">            <span class="keyword">if</span>(a.contains(u)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(!dfs(graph, u, b, a, done)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        done.add(v);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思路：<br>使用dfs，从一个点出发，依次用set标记剩下的点。除非某点存在边位于同一个set中。否则即为二分图</p>
<h2 id="958-Check-Completeness-of-a-Binary-Tree"><a href="#958-Check-Completeness-of-a-Binary-Tree" class="headerlink" title="958. Check Completeness of a Binary Tree"></a><a href="https://leetcode.com/problems/check-completeness-of-a-binary-tree/" target="_blank" rel="noopener">958. Check Completeness of a Binary Tree</a></h2><h3 id="11-74-100-00-50mins"><a href="#11-74-100-00-50mins" class="headerlink" title="11.74 100.00 50mins"></a>11.74 100.00 50mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isCompleteTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> checkRecord(root).height &gt;= <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function">Record <span class="title">checkRecord</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">true</span>, <span class="number">0</span>);</span><br><span class="line">        Record l = checkRecord(root.left);</span><br><span class="line">        Record r = checkRecord(root.right);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(l.height == -<span class="number">1</span> || r.height == -<span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span>(l.full &amp;&amp; r.full)</span><br><span class="line">            <span class="keyword">if</span>(l.height - r.height == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">true</span>, l.height+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(l.height - r.height == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, l.height+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(l.full &amp;&amp; !r.full) </span><br><span class="line">            <span class="keyword">if</span>(l.height == r.height) <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, l.height+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!l.full &amp;&amp; r.full)</span><br><span class="line">            <span class="keyword">if</span>(l.height-r.height==<span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, l.height+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">new</span> Record(<span class="keyword">false</span>, -<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Record</span> </span>&#123;</span><br><span class="line">        Record(<span class="keyword">boolean</span> full, <span class="keyword">int</span> height) &#123;</span><br><span class="line">            <span class="keyword">this</span>.full = full;</span><br><span class="line">            <span class="keyword">this</span>.height = height;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">boolean</span> full;</span><br><span class="line">        <span class="keyword">int</span> height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要一次返回两个数据：是否是满的二叉树 + 最大深度<br>分情况进行分析即可。<br>可以看出时间复杂度较高，但是空间复杂度不错。<br>TODO: bfs</p>
<h2 id="523-Continuous-Subarray-Sum"><a href="#523-Continuous-Subarray-Sum" class="headerlink" title="523. Continuous Subarray Sum"></a><a href="https://leetcode.com/problems/continuous-subarray-sum/" target="_blank" rel="noopener">523. Continuous Subarray Sum</a></h2><h3 id="26-60-88-24-19mins"><a href="#26-60-88-24-19mins" class="headerlink" title="26.60 88.24 19mins"></a>26.60 88.24 19mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkSubarraySum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// bugfix k = 0;</span></span><br><span class="line">        <span class="keyword">if</span>(nums.length &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span>[] sums = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length+<span class="number">1</span>];</span><br><span class="line">        sums[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; sums.length; i++)</span><br><span class="line">            sums[i] = nums[i-<span class="number">1</span>] + sums[i-<span class="number">1</span>];</span><br><span class="line">        <span class="comment">//for(int s : sums)</span></span><br><span class="line">            <span class="comment">//System.out.println(s);</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sums.length-<span class="number">2</span>; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">2</span>; j &lt; sums.length; j++)</span><br><span class="line">                <span class="keyword">if</span>(k == <span class="number">0</span> &amp;&amp; sums[j] - sums[i] == <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(k != <span class="number">0</span> &amp;&amp; (sums[j] - sums[i]) % k == <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>时间复杂度为 $O(n^2)$</p>
<h3 id="hashMap-做法"><a href="#hashMap-做法" class="headerlink" title="hashMap 做法"></a>hashMap 做法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkSubarraySum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> runningSum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            runningSum += nums[i];</span><br><span class="line">            <span class="keyword">if</span>( k != <span class="number">0</span>) runningSum %= k;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(runningSum) &amp;&amp; i-map.get(runningSum) &gt; <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(!map.containsKey(runningSum)) map.put(runningSum, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用取mod的方式可以把时间复杂度降为$O(n)$。<br>思路：</p>
<ul>
<li>仍然取sum，只不过这次是取 $sum%k$</li>
<li>如果有两个点，sum一样，则这两个点中间的和可以被k整除。</li>
</ul>
<h2 id="1027-Longest-Arithmetic-Sequence"><a href="#1027-Longest-Arithmetic-Sequence" class="headerlink" title="1027. Longest Arithmetic Sequence"></a><a href="https://leetcode.com/problems/longest-arithmetic-sequence/" target="_blank" rel="noopener">1027. Longest Arithmetic Sequence</a></h2><h3 id="5-08-100-00-60mins"><a href="#5-08-100-00-60mins" class="headerlink" title="5.08 100.00 60mins"></a>5.08 100.00 60mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; done = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestArithSeqLength</span><span class="params">(<span class="keyword">int</span>[] A)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(A.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> A.length;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; A.length-<span class="number">1</span>; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; A.length; j++)</span><br><span class="line">                res = Math.max(res, dfs(A, i, j, <span class="number">0</span>));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// length former length</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] A, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> diff = A[j] - A[i];</span><br><span class="line">        <span class="comment">//done has bug</span></span><br><span class="line">        <span class="comment">//if(done.computeIfAbsent(A[j], x-&gt;new HashSet&lt;&gt;()).contains(diff)) return -1;</span></span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = j+<span class="number">1</span>; k &lt; A.length; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(A[k] - A[j] == diff) &#123;</span><br><span class="line">                res = Math.max(res, <span class="number">1</span> + dfs(A, j, k, <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//done.get(A[j]).add(diff);</span></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意dfs的时候，length是formerlength。但是这个赶紧代码不优雅，需要看看别人怎么写的 TODO<br>时间复杂度较高，因为有很多重复计算。需要有个方式记录做过的dfs. TODO<br>注释的写法有bug：TODO</p>
<h2 id="825-Friends-Of-Appropriate-Ages"><a href="#825-Friends-Of-Appropriate-Ages" class="headerlink" title="825. Friends Of Appropriate Ages"></a><a href="https://leetcode.com/problems/friends-of-appropriate-ages/" target="_blank" rel="noopener">825. Friends Of Appropriate Ages</a></h2><h3 id="TLE-9mins"><a href="#TLE-9mins" class="headerlink" title="TLE 9mins"></a>TLE 9mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numFriendRequests</span><span class="params">(<span class="keyword">int</span>[] ages)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(ages.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> a = <span class="number">0</span>; a &lt; ages.length-<span class="number">1</span>; a++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> b = a+<span class="number">1</span>; b&lt;ages.length; b++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> aa = ages[a], ab = ages[b];</span><br><span class="line">                <span class="keyword">if</span>(!(ab&lt;=<span class="number">0.5</span>*aa+<span class="number">7</span> || ab &gt; aa || (ab&gt;<span class="number">100</span>&amp;&amp;aa&lt;<span class="number">100</span>))) res++;</span><br><span class="line">                <span class="keyword">int</span> tmp = aa;</span><br><span class="line">                aa = ab;</span><br><span class="line">                ab  =tmp;</span><br><span class="line">                <span class="keyword">if</span>(!(ab&lt;=<span class="number">0.5</span>*aa+<span class="number">7</span> || ab &gt; aa || (ab&gt;<span class="number">100</span>&amp;&amp;aa&lt;<span class="number">100</span>))) res++;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>$O(n^2)$ TLE 了。</p>
<p>思路：可以以age作为key，这样的话复杂度会降低到 $O(k^2)$ k为age种类</p>
<h2 id="314-Binary-Tree-Vertical-Order-Traversal"><a href="#314-Binary-Tree-Vertical-Order-Traversal" class="headerlink" title="314. Binary Tree Vertical Order Traversal"></a><a href="https://leetcode.com/problems/binary-tree-vertical-order-traversal/" target="_blank" rel="noopener">314. Binary Tree Vertical Order Traversal</a></h2><h3 id="WRONG-ANSWER"><a href="#WRONG-ANSWER" class="headerlink" title="WRONG ANSWER"></a>WRONG ANSWER</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; verticalOrder(TreeNode root) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">        Map&lt;Integer, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> leftest = traveral(root, <span class="number">0</span>, map);</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            List&lt;Integer&gt; l = map.get(leftest++);</span><br><span class="line">            <span class="keyword">if</span>(l == <span class="keyword">null</span>) <span class="keyword">break</span>;</span><br><span class="line">            res.add(l);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// root != null</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">traveral</span><span class="params">(TreeNode root, <span class="keyword">int</span> current, Map&lt;Integer, List&lt;Integer&gt;&gt; map)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; l = map.computeIfAbsent(current, x-&gt;<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        l.add(root.val);</span><br><span class="line">        <span class="keyword">int</span> res = current;</span><br><span class="line">        <span class="keyword">if</span>(root.left != <span class="keyword">null</span>)</span><br><span class="line">            res = traveral(root.left, current-<span class="number">1</span>, map);</span><br><span class="line">        <span class="keyword">if</span>(root.right != <span class="keyword">null</span>)</span><br><span class="line">            res = Math.min(res, traveral(root.right, current+<span class="number">1</span>, map));</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>由于这个题目要求顺序是<strong>从左到右，从上到下</strong>，上面的代码可以做到从左到右，但是无法做到从上到下。（因为是先遍历左子树，后遍历右子树），需要进行修改，让代码可以记住<strong>从上到下</strong><br>所以DFS无法完成这个任务。<br>我们需要BFS。</p>
<h3 id="BFS-7-02-100-00"><a href="#BFS-7-02-100-00" class="headerlink" title="BFS 7.02 100.00"></a>BFS 7.02 100.00</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; verticalOrder(TreeNode root) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> res;</span><br><span class="line">        </span><br><span class="line">        Map&lt;Integer, List&lt;Integer&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> min = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        Queue&lt;TreeNode&gt; nodes = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        Queue&lt;Integer&gt; cols = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        nodes.offer(root);</span><br><span class="line">        cols.offer(<span class="number">0</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(nodes.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            TreeNode node = nodes.poll();</span><br><span class="line">            <span class="keyword">int</span> col = cols.poll();</span><br><span class="line">            map.computeIfAbsent(col, x-&gt;<span class="keyword">new</span> ArrayList&lt;&gt;()).add(node.val);</span><br><span class="line">            <span class="keyword">if</span>(node.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">                nodes.offer(node.left);</span><br><span class="line">                cols.offer(col-<span class="number">1</span>);</span><br><span class="line">                min = Math.min(min, col-<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(node.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">                nodes.offer(node.right);</span><br><span class="line">                cols.offer(col+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">            List&lt;Integer&gt; l = map.get(min++);</span><br><span class="line">            <span class="keyword">if</span>(l == <span class="keyword">null</span>) <span class="keyword">break</span>;</span><br><span class="line">            res.add(l);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>本来我的思路是，新建一个类，这个类包含col和val，但是看别人的做法，是<strong>新建两个一样的数据结构存着两个值</strong>，这样肯定比新建数据结构效率要高的。<br>但是时间复杂度仍然不是最优。待优化TODO</p>
<h2 id="863-All-Nodes-Distance-K-in-Binary-Tree"><a href="#863-All-Nodes-Distance-K-in-Binary-Tree" class="headerlink" title="863. All Nodes Distance K in Binary Tree"></a><a href="https://leetcode.com/problems/all-nodes-distance-k-in-binary-tree/" target="_blank" rel="noopener">863. All Nodes Distance K in Binary Tree</a></h2><h3 id="FAIL-61-12-100-00-44mins"><a href="#FAIL-61-12-100-00-44mins" class="headerlink" title="FAIL 61.12 100.00 44mins"></a>FAIL 61.12 100.00 44mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">distanceK</span><span class="params">(TreeNode root, TreeNode target, <span class="keyword">int</span> K)</span> </span>&#123;</span><br><span class="line">        Map&lt;TreeNode, TreeNode&gt; pMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        dfs(root, <span class="keyword">null</span>, pMap);</span><br><span class="line">        </span><br><span class="line">        Queue&lt;TreeNode&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        q.offer(<span class="keyword">null</span>);</span><br><span class="line">        q.offer(target);</span><br><span class="line">        Set&lt;TreeNode&gt; seen = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        seen.add(target);</span><br><span class="line">        <span class="comment">// bugfix</span></span><br><span class="line">        seen.add(<span class="keyword">null</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> dis = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// null acctually is a sentinel</span></span><br><span class="line">        <span class="keyword">while</span>(q.size() != <span class="number">0</span>) &#123;</span><br><span class="line">            TreeNode cur = q.poll();</span><br><span class="line">            <span class="keyword">if</span>(cur == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dis == K) &#123;</span><br><span class="line">                    List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                    <span class="keyword">for</span>(TreeNode t: q) res.add(t.val);</span><br><span class="line">                    <span class="keyword">return</span> res;</span><br><span class="line">                &#125; <span class="keyword">else</span> dis ++;</span><br><span class="line">                q.offer(<span class="keyword">null</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(!seen.contains(cur.left)) &#123;</span><br><span class="line">                    seen.add(cur.left);</span><br><span class="line">                    q.offer(cur.left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!seen.contains(cur.right)) &#123;</span><br><span class="line">                    seen.add(cur.right);</span><br><span class="line">                    q.offer(cur.right);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(!seen.contains(pMap.get(cur))) &#123;</span><br><span class="line">                    seen.add(pMap.get(cur));</span><br><span class="line">                    q.offer(pMap.get(cur));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode n, TreeNode p, Map&lt;TreeNode, TreeNode&gt; pMap)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        pMap.put(n, p);</span><br><span class="line">        dfs(n.left, n, pMap);</span><br><span class="line">        dfs(n.right, n, pMap);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>自己实现没有想出来，所以看了答案。<br>思路：</p>
<ul>
<li>使用bfs，每次队列中的都是一个距离的，距离不停加1</li>
<li>注意初始化条件。很关键。</li>
</ul>
<h2 id="416-Partition-Equal-Subset-Sum"><a href="#416-Partition-Equal-Subset-Sum" class="headerlink" title="416. Partition Equal Subset Sum"></a><a href="https://leetcode.com/problems/partition-equal-subset-sum/" target="_blank" rel="noopener">416. Partition Equal Subset Sum</a></h2><h3 id="FAIL-3"><a href="#FAIL-3" class="headerlink" title="FAIL"></a>FAIL</h3><p>这个题目的本质是求在一个集合中，是否存在一个子集，其和等于某个数值。本质的本质是<strong>0/1背包问题</strong><br>解法——动态规划。<br>dp[i][j] = 前i个数字，是否存在一个集合 = j。<br>状态转换方程：如果我们不pick nums[i]，则为前者；如果pick nums[i]，则为后者<br>$dp[i][j] = dp[i-1][j] || dp[i-1][j-nums[i]]$</p>
<p>通过这个状态转换方程可以看出，我们可以优化空间复杂度至一维数组</p>
<h1 id="EASY"><a href="#EASY" class="headerlink" title="EASY"></a>EASY</h1><h2 id="283-Move-Zeroes"><a href="#283-Move-Zeroes" class="headerlink" title="283. Move Zeroes"></a><a href="https://leetcode.com/problems/move-zeroes/" target="_blank" rel="noopener">283. Move Zeroes</a></h2><h3 id="100-00-98-60-7-5min"><a href="#100-00-98-60-7-5min" class="headerlink" title="100.00% 98.60% 7.5min"></a>100.00% 98.60% 7.5min</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moveZeroes</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> firstZero = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> iter = <span class="number">0</span>; iter &lt; nums.length; ++iter)&#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[iter] == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(firstZero &lt; <span class="number">0</span>) firstZero = iter;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(firstZero &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">                    swap(nums, iter, firstZero);</span><br><span class="line">                    firstZero++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="157-Read-N-Characters-Given-Read4"><a href="#157-Read-N-Characters-Given-Read4" class="headerlink" title="157. Read N Characters Given Read4"></a><a href="https://leetcode.com/problems/read-n-characters-given-read4/" target="_blank" rel="noopener">157. Read N Characters Given Read4</a></h2><h3 id="100-00-100-00-17min"><a href="#100-00-100-00-17min" class="headerlink" title="100.00% 100.00% 17min"></a>100.00% 100.00% 17min</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The read4 API is defined in the parent class Reader4.</span></span><br><span class="line"><span class="comment"> *     int read4(char[] buf);</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Reader4</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> buf Destination buffer</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> n   Number of characters to read</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>    The number of actual characters read</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span>[] buf, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> iter = n/<span class="number">4</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span>[] tmpBuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iter; i++)&#123;</span><br><span class="line">            <span class="keyword">int</span> tmpResult = read4(tmpBuf);</span><br><span class="line">            result += tmpResult;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; tmpResult; j++)&#123;</span><br><span class="line">                buf[<span class="number">4</span>*i + j] = tmpBuf[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//bugfix: 最后一次循环要特殊判断，取两者里面小的</span></span><br><span class="line">        <span class="keyword">int</span> left = n%<span class="number">4</span>;</span><br><span class="line">        <span class="keyword">if</span>(left == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> lastResult = read4(tmpBuf);</span><br><span class="line">        <span class="keyword">int</span> iter2 = left &lt; lastResult?left:lastResult;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;iter2; i++)&#123;</span><br><span class="line">            buf[<span class="number">4</span>*iter + i] = tmpBuf[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//注意加的这个数值</span></span><br><span class="line">        result += iter2;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>消耗时间较多了，注意两个bug</p>
<h2 id="278-First-Bad-Version"><a href="#278-First-Bad-Version" class="headerlink" title="278. First Bad Version"></a><a href="https://leetcode.com/problems/first-bad-version/" target="_blank" rel="noopener">278. First Bad Version</a></h2><h3 id="99-48-100-00-20min"><a href="#99-48-100-00-20min" class="headerlink" title="99.48% 100.00% 20min"></a>99.48% 100.00% 20min</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The isBadVersion API is defined in the parent class VersionControl.</span></span><br><span class="line"><span class="comment">      boolean isBadVersion(int version); */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">VersionControl</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstBadVersion</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//bugfix r = n + 1</span></span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">1</span>, r = n, mid;</span><br><span class="line">        <span class="keyword">while</span>(l &lt;= r)&#123;</span><br><span class="line">            <span class="keyword">if</span>(l == r) <span class="keyword">return</span> l;</span><br><span class="line">            mid = l + (r - l)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(isBadVersion(mid)) r = mid;</span><br><span class="line">            <span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>bugfix</strong>:注意binary search的时候，边界是否包括结果可能对算法正确与否产生影响。比如如果认为边界不包括结果，则 r = n + 1。那么在后续判断的时候会令 r = mid+1; 那么有一种情况会造成死循环: [l][结果][r]。这时候会造成死循环。注意考虑这种边界条件.</p>
<h2 id="125-Valid-Palindrome"><a href="#125-Valid-Palindrome" class="headerlink" title="125. Valid Palindrome"></a><a href="https://leetcode.com/problems/valid-palindrome/" target="_blank" rel="noopener">125. Valid Palindrome</a></h2><h3 id="96-21-92-86-20mins"><a href="#96-21-92-86-20mins" class="headerlink" title="96.21 92.86 20mins"></a>96.21 92.86 20mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = s.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l != r)&#123;</span><br><span class="line">            <span class="keyword">while</span>(l &lt; s.length() &amp;&amp; !isAlphaNum(s.charAt(l))) l++;</span><br><span class="line">            <span class="keyword">while</span>(r &gt;= <span class="number">0</span> &amp;&amp; !isAlphaNum(s.charAt(r))) r--;</span><br><span class="line">            <span class="keyword">if</span>(l &gt;= r) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            <span class="comment">//bugfix ignore case</span></span><br><span class="line">            <span class="keyword">if</span>(getChar(s, l++) != getChar(s, r--)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isAlphaNum</span><span class="params">(<span class="keyword">char</span> c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'z'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(c &gt;= <span class="string">'A'</span> &amp;&amp; c &lt;= <span class="string">'Z'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getChar</span><span class="params">(String s, <span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">        <span class="keyword">if</span>(c &gt;= <span class="string">'0'</span> &amp;&amp; c &lt;= <span class="string">'9'</span>) <span class="keyword">return</span> c;</span><br><span class="line">        <span class="keyword">if</span>(c &gt;= <span class="string">'a'</span> &amp;&amp; c &lt;= <span class="string">'z'</span>) <span class="keyword">return</span> c - <span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(c &gt;= <span class="string">'A'</span> &amp;&amp; c &lt;= <span class="string">'Z'</span>) <span class="keyword">return</span> c - <span class="string">'A'</span>;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>题目不难，但是被java语法卡住了<br><strong>tips</strong>:</p>
<ul>
<li>移动指针的时候注意边界，不要越界</li>
<li>判断边界条件及时返回</li>
<li>java中’a’+<int>编译器不能支持，但是’a’+10是支持的。（因为编译器编译时能判断后者没越界）所以需要使用另外一种方式替代ignorecase的判断。</li>
</ul>
<h2 id="1-Two-Sum"><a href="#1-Two-Sum" class="headerlink" title="1. Two Sum"></a><a href="https://leetcode.com/problems/two-sum/" target="_blank" rel="noopener">1. Two Sum</a></h2><h3 id="98-89-98-95-10mins"><a href="#98-89-98-95-10mins" class="headerlink" title="98.89 98.95 10mins"></a>98.89 98.95 10mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> n = nums[i];</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(n) &amp;&amp; n*<span class="number">2</span> == target) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;map.get(n), i&#125;;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(target-n)) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;map.get(target-n), i&#125;;</span><br><span class="line">            map.put(n, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>tips</strong>: 注意相等的情况，简单的题目暗藏对情况的全面考虑</p>
<h2 id="88-Merge-Sorted-Array"><a href="#88-Merge-Sorted-Array" class="headerlink" title="88. Merge Sorted Array"></a><a href="https://leetcode.com/problems/merge-sorted-array/" target="_blank" rel="noopener">88. Merge Sorted Array</a></h2><h3 id="100-00-100-00-15min"><a href="#100-00-100-00-15min" class="headerlink" title="100.00 100.00 15min"></a>100.00 100.00 15min</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span> m, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> leftLength = m + n;</span><br><span class="line">        <span class="comment">//bugfix</span></span><br><span class="line">        <span class="keyword">while</span>(leftLength != <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(m == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">                    nums1[i] = nums2[i];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(n == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(nums1[m-<span class="number">1</span>] &gt;= nums2[n-<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="comment">//bugfix leftLength++ indexOutOfBound</span></span><br><span class="line">                nums1[--leftLength] = nums1[--m];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                nums1[--leftLength] = nums2[--n];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>tips</strong>:</p>
<ul>
<li>最好用length 而并非index（length比index多1）</li>
<li>注意先减后用</li>
</ul>
<h2 id="350-Intersection-of-Two-Arrays-II"><a href="#350-Intersection-of-Two-Arrays-II" class="headerlink" title="350. Intersection of Two Arrays II"></a><a href="https://leetcode.com/problems/intersection-of-two-arrays-ii/" target="_blank" rel="noopener">350. Intersection of Two Arrays II</a></h2><h3 id="17-64-83-87-10mins"><a href="#17-64-83-87-10mins" class="headerlink" title="17.64 83.87 10mins"></a>17.64 83.87 10mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; n1Map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;Integer, Integer&gt; n2Map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        Map&lt;Integer, Integer&gt; resultMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> n : nums1) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!n1Map.containsKey(n))</span><br><span class="line">                n1Map.put(n, <span class="number">0</span>);</span><br><span class="line">            n1Map.put(n, n1Map.get(n)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> n : nums2) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!n2Map.containsKey(n))</span><br><span class="line">                n2Map.put(n, <span class="number">0</span>);</span><br><span class="line">            n2Map.put(n, n2Map.get(n)+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Integer, Integer&gt; entry: n1Map.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span>(n2Map.containsKey(entry.getKey()))</span><br><span class="line">                resultMap.put(entry.getKey(), Math.min(entry.getValue(), n2Map.get(entry.getKey())));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Integer, Integer&gt; entry: resultMap.entrySet()) &#123;</span><br><span class="line">            number += entry.getValue();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[number];</span><br><span class="line">        number = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Integer, Integer&gt; entry: resultMap.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">int</span> val = entry.getValue();</span><br><span class="line">            <span class="keyword">while</span>(val-- != <span class="number">0</span>)result[number++] = entry.getKey();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用两个map进行统计，然后用一个resultMap去整理数据，最后输出。但是能看出时间复杂度很差。</p>
<h3 id="91-22-33-87"><a href="#91-22-33-87" class="headerlink" title="91.22 33.87"></a>91.22 33.87</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] intersect(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2) &#123;</span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        Arrays.sort(nums1);</span><br><span class="line">        Arrays.sort(nums2);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>; i&lt; nums1.length &amp;&amp; j&lt;nums2.length;)&#123;</span><br><span class="line">                <span class="keyword">if</span>(nums1[i]&lt;nums2[j])&#123;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(nums1[i] == nums2[j])&#123;</span><br><span class="line">                    res.add(nums1[i]);</span><br><span class="line">                    i++;</span><br><span class="line">                    j++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    j++;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[res.size()];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;res.size();i++)&#123;</span><br><span class="line">            result[i] = res.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>tips</strong>:<br>可以看得出，虽然时间复杂度看上去较慢，达到 nlgn，但是速度很快。这是因为<strong>对基础类型的排序java非常快</strong></p>
<h2 id="953-Verifying-an-Alien-Dictionary"><a href="#953-Verifying-an-Alien-Dictionary" class="headerlink" title="953. Verifying an Alien Dictionary"></a><a href="https://leetcode.com/problems/verifying-an-alien-dictionary/" target="_blank" rel="noopener">953. Verifying an Alien Dictionary</a></h2><h3 id="100-00-100-00-17mins"><a href="#100-00-100-00-17mins" class="headerlink" title="100.00 100.00 17mins"></a>100.00 100.00 17mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isAlienSorted</span><span class="params">(String[] words, String order)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dic = toDic(order);</span><br><span class="line">        <span class="comment">// bugfix</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.length-<span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(compare(words[i], words[i+<span class="number">1</span>], dic) == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] toDic(String order) &#123;</span><br><span class="line">        <span class="keyword">int</span> ind = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c: order.toCharArray())&#123;</span><br><span class="line">            result[c-<span class="string">'a'</span>] = ind++; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String s1, String s2, <span class="keyword">int</span>[] dic)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i1, i2;</span><br><span class="line">        <span class="keyword">for</span>(i1 = <span class="number">0</span>, i2 = <span class="number">0</span>; i1 &lt; s1.length() &amp;&amp; i2 &lt; s2.length(); i1++, i2++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c1 = s1.charAt(i1), c2 = s2.charAt(i2);</span><br><span class="line">            <span class="keyword">if</span>(dic[c1-<span class="string">'a'</span>] &lt; dic[c2-<span class="string">'a'</span>]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(dic[c1-<span class="string">'a'</span>] &gt; dic[c2-<span class="string">'a'</span>]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(s1.length() == s2.length()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>(i1 == s1.length()) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意bugfix地方，边界写错了</p>
<h2 id="543-Diameter-of-Binary-Tree"><a href="#543-Diameter-of-Binary-Tree" class="headerlink" title="543. Diameter of Binary Tree"></a><a href="https://leetcode.com/problems/diameter-of-binary-tree/" target="_blank" rel="noopener">543. Diameter of Binary Tree</a></h2><h3 id="TODO-13-73-19-48-20mins"><a href="#TODO-13-73-19-48-20mins" class="headerlink" title="TODO: 13.73 19.48 20mins"></a>TODO: 13.73 19.48 20mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">diameterOfBinaryTree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> traversal(root);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">traversal</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> l = traversal(root.left);</span><br><span class="line">        <span class="keyword">int</span> mid = comp(root);</span><br><span class="line">        <span class="keyword">int</span> r = traversal(root.right);</span><br><span class="line">        <span class="keyword">return</span> Math.max(l, Math.max(mid, r));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">comp</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> l = dfs(root.left);</span><br><span class="line">        <span class="keyword">int</span> r = dfs(root.right);</span><br><span class="line">        <span class="keyword">return</span> l + r;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> l = dfs(root.left);</span><br><span class="line">        <span class="keyword">int</span> r = dfs(root.right);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + Math.max(l, r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>思路</strong>：<br>中序遍历全部的点，每个点计算一次最大值。<br>存在大量的重复计算。<br>和内存占用。（并不会分析）待优化。</p>
<h2 id="680-Valid-Palindrome-II"><a href="#680-Valid-Palindrome-II" class="headerlink" title="680. Valid Palindrome II"></a><a href="https://leetcode.com/problems/valid-palindrome-ii/" target="_blank" rel="noopener">680. Valid Palindrome II</a></h2><h3 id="TODO-9-68-97-22-11mins"><a href="#TODO-9-68-97-22-11mins" class="headerlink" title="TODO: 9.68 97.22 11mins"></a>TODO: 9.68 97.22 11mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validPalindrome</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.length() &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length()/<span class="number">2</span>; i ++)</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i) != s.charAt(s.length()-<span class="number">1</span>-i))</span><br><span class="line">                <span class="keyword">return</span> check(s.substring(i, s.length()-<span class="number">1</span>-i)) || check(s.substring(i+<span class="number">1</span>, s.length()-i));</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">check</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s == <span class="keyword">null</span> || s.length() &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length()/<span class="number">2</span>; i ++)</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i) != s.charAt(s.length()-<span class="number">1</span>-i))</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>题目不难，去掉一个字母能回文。判断去掉哪个即可。<br>但是时间效率貌似只有9.待优化</p>
<h2 id="415-Add-Strings"><a href="#415-Add-Strings" class="headerlink" title="415. Add Strings"></a><a href="https://leetcode.com/problems/add-strings/" target="_blank" rel="noopener">415. Add Strings</a></h2><h3 id="37-64-100-00-8mins"><a href="#37-64-100-00-8mins" class="headerlink" title="37.64 100.00 8mins"></a>37.64 100.00 8mins</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">addStrings</span><span class="params">(String num1, String num2)</span> </span>&#123;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> cas = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Math.max(num1.length(), num2.length()); i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> c1 = num1.length()-<span class="number">1</span>-i &lt; <span class="number">0</span> ? <span class="number">0</span> : num1.charAt(num1.length()-<span class="number">1</span>-i)-<span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> c2 = num2.length()-<span class="number">1</span>-i &lt; <span class="number">0</span> ? <span class="number">0</span> : num2.charAt(num2.length()-<span class="number">1</span>-i)-<span class="string">'0'</span>;</span><br><span class="line">            <span class="keyword">int</span> sum = cas + c1 + c2;</span><br><span class="line">            cas = sum/<span class="number">10</span>;</span><br><span class="line">            sb.insert(<span class="number">0</span>, sum%<span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cas != <span class="number">0</span>) sb.insert(<span class="number">0</span>, cas);</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>TODO 时间有待提升</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/leetcode/" rel="tag"># leetcode</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/%E8%A5%BF%E5%AE%89%E6%97%85%E6%B8%B8%E6%94%BB%E7%95%A5.html" rel="prev" title="西安旅游攻略">
      <i class="fa fa-chevron-left"></i> 西安旅游攻略
    </a></div>
      <div class="post-nav-item">
    <a href="/google-problems.html" rel="next" title="google problems">
      google problems <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#HARD"><span class="nav-number">1.</span> <span class="nav-text">HARD</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#158-Read-N-Characters-Given-Read4-II-Call-multiple-times"><span class="nav-number">1.1.</span> <span class="nav-text">158. Read N Characters Given Read4 II - Call multiple times</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-100-00-60mins"><span class="nav-number">1.1.1.</span> <span class="nav-text">100.00% 100.00% 60mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-Merge-k-Sorted-Lists"><span class="nav-number">1.2.</span> <span class="nav-text">23. Merge k Sorted Lists</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#98-74-27-33-18mins"><span class="nav-number">1.2.1.</span> <span class="nav-text">98.74 27.33 18mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#301-Remove-Invalid-Parentheses-FAIL"><span class="nav-number">1.3.</span> <span class="nav-text">301. Remove Invalid Parentheses (FAIL)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DFS-ANSWER"><span class="nav-number">1.3.1.</span> <span class="nav-text">DFS ANSWER</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#124-Binary-Tree-Maximum-Path-Sum"><span class="nav-number">1.4.</span> <span class="nav-text">124. Binary Tree Maximum Path Sum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-04-5-95-1h-TODO"><span class="nav-number">1.4.1.</span> <span class="nav-text">5.04 5.95 1h TODO</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-Trapping-Rain-Water-TODO"><span class="nav-number">1.5.</span> <span class="nav-text">42. Trapping Rain Water TODO</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#solution-1-98-21-92-47-TODO-多解"><span class="nav-number">1.5.1.</span> <span class="nav-text">solution 1 98.21 92.47 TODO(多解)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#340-Longest-Substring-with-At-Most-K-Distinct-Characters"><span class="nav-number">1.6.</span> <span class="nav-text">340. Longest Substring with At Most K Distinct Characters</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#21-84-46-81-30mins"><span class="nav-number">1.6.1.</span> <span class="nav-text">21.84 46.81 30mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#317-Shortest-Distance-from-All-Buildings-FAIL"><span class="nav-number">1.7.</span> <span class="nav-text">317. Shortest Distance from All Buildings FAIL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#76-Minimum-Window-Substring"><span class="nav-number">1.8.</span> <span class="nav-text">76. Minimum Window Substring</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-01-5-32-38mins"><span class="nav-number">1.8.1.</span> <span class="nav-text">5.01 5.32 38mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#269-Alien-Dictionary-FAIL"><span class="nav-number">1.9.</span> <span class="nav-text">269. Alien Dictionary FAIL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#282-Expression-Add-Operators-FAIL"><span class="nav-number">1.10.</span> <span class="nav-text">282. Expression Add Operators FAIL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#297-Serialize-and-Deserialize-Binary-Tree"><span class="nav-number">1.11.</span> <span class="nav-text">297. Serialize and Deserialize Binary Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#42-59-54-28-20mins-TODO-DFS-BFS"><span class="nav-number">1.11.1.</span> <span class="nav-text">42.59 54.28 20mins TODO(DFS BFS?)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#273-Integer-to-English-Words"><span class="nav-number">1.12.</span> <span class="nav-text">273. Integer to English Words</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#17-43-100-00-29mins"><span class="nav-number">1.12.1.</span> <span class="nav-text">17.43 100.00 29mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#282-Expression-Add-Operators"><span class="nav-number">1.13.</span> <span class="nav-text">282. Expression Add Operators</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FAIL"><span class="nav-number">1.13.1.</span> <span class="nav-text">FAIL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FAIL2"><span class="nav-number">1.13.2.</span> <span class="nav-text">FAIL2</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#55-92-56-76-40mins"><span class="nav-number">1.13.3.</span> <span class="nav-text">55.92 56.76 40mins</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ANSWER"><span class="nav-number">1.13.4.</span> <span class="nav-text">ANSWER</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#489-Robot-Room-Cleaner"><span class="nav-number">1.14.</span> <span class="nav-text">489. Robot Room Cleaner</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-45-8-00-50mins"><span class="nav-number">1.14.1.</span> <span class="nav-text">5.45 8.00 50mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#65-Valid-Number"><span class="nav-number">1.15.</span> <span class="nav-text">65. Valid Number</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MEDIUM"><span class="nav-number">2.</span> <span class="nav-text">MEDIUM</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#91-Decode-Ways"><span class="nav-number">2.1.</span> <span class="nav-text">91. Decode Ways</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#98-63-100-00-43min"><span class="nav-number">2.1.1.</span> <span class="nav-text">98.63% 100.00% 43min</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-3Sum"><span class="nav-number">2.2.</span> <span class="nav-text">15. 3Sum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TLE-–-wrong-answer"><span class="nav-number">2.2.1.</span> <span class="nav-text">TLE – wrong answer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#973-K-Closest-Points-to-Origin"><span class="nav-number">2.3.</span> <span class="nav-text">973. K Closest Points to Origin</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#WRONG-ANSER"><span class="nav-number">2.3.1.</span> <span class="nav-text">WRONG ANSER</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#36-35-90-68-11mins"><span class="nav-number">2.3.2.</span> <span class="nav-text">36.35 90.68 11mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#215-Kth-Largest-Element-in-an-Array"><span class="nav-number">2.4.</span> <span class="nav-text">215. Kth Largest Element in an Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#32-77-78-76-40mins"><span class="nav-number">2.4.1.</span> <span class="nav-text">32.77 78.76 40mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#56-Merge-Intervals"><span class="nav-number">2.5.</span> <span class="nav-text">56. Merge Intervals</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#25-19-36-23-18mins"><span class="nav-number">2.5.1.</span> <span class="nav-text">25.19 36.23 18mins</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#95-63-71-02"><span class="nav-number">2.5.2.</span> <span class="nav-text">95.63 71.02</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#253-Meeting-Rooms-II"><span class="nav-number">2.6.</span> <span class="nav-text">253. Meeting Rooms II</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-75-64"><span class="nav-number">2.6.1.</span> <span class="nav-text">100.00 75.64</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#238-Product-of-Array-Except-Self"><span class="nav-number">2.7.</span> <span class="nav-text">238. Product of Array Except Self</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-92-13-15min"><span class="nav-number">2.7.1.</span> <span class="nav-text">100.00 92.13 15min</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-100-00-8mins"><span class="nav-number">2.7.2.</span> <span class="nav-text">100.00 100.00 8mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#560-Subarray-Sum-Equals-K"><span class="nav-number">2.8.</span> <span class="nav-text">560. Subarray Sum Equals K</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#30-78-97-83-38mins"><span class="nav-number">2.8.1.</span> <span class="nav-text">30.78 97.83 38mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31-Next-Permutation"><span class="nav-number">2.9.</span> <span class="nav-text">31. Next Permutation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-31-00-40min"><span class="nav-number">2.9.1.</span> <span class="nav-text">100.00 31.00 40min</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#986-Interval-List-Intersections"><span class="nav-number">2.10.</span> <span class="nav-text">986. Interval List Intersections</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#99-93-78-38-15mins"><span class="nav-number">2.10.1.</span> <span class="nav-text">99.93 78.38 15mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#98-Validate-Binary-Search-Tree"><span class="nav-number">2.11.</span> <span class="nav-text">98. Validate Binary Search Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-79-54-20mins"><span class="nav-number">2.11.1.</span> <span class="nav-text">100.00 79.54 20mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#199-Binary-Tree-Right-Side-View"><span class="nav-number">2.12.</span> <span class="nav-text">199. Binary Tree Right Side View</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#98-32-100-00-12mins"><span class="nav-number">2.12.1.</span> <span class="nav-text">98.32 100.00 12mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#621-Task-Scheduler"><span class="nav-number">2.13.</span> <span class="nav-text">621. Task Scheduler</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#AFTER-FAIL-41-12-86-76-26mins-TODO"><span class="nav-number">2.13.1.</span> <span class="nav-text">AFTER FAIL: 41.12 86.76 26mins TODO</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-3Sum-1"><span class="nav-number">2.14.</span> <span class="nav-text">15. 3Sum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-82-41-34-60mins-TODO"><span class="nav-number">2.14.1.</span> <span class="nav-text">8.82 41.34 60mins TODO</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#133-Clone-Graph-FAIL"><span class="nav-number">2.15.</span> <span class="nav-text">133. Clone Graph(FAIL)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#正解"><span class="nav-number">2.15.1.</span> <span class="nav-text">正解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#173-Binary-Search-Tree-Iterator"><span class="nav-number">2.16.</span> <span class="nav-text">173. Binary Search Tree Iterator</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#18-55-92-59-7mins"><span class="nav-number">2.16.1.</span> <span class="nav-text">18.55 92.59 7mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#161-One-Edit-Distance"><span class="nav-number">2.17.</span> <span class="nav-text">161. One Edit Distance</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#99-56-100-20mins"><span class="nav-number">2.17.1.</span> <span class="nav-text">99.56 100 20mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#211-Add-and-Search-Word-Data-structure-design"><span class="nav-number">2.18.</span> <span class="nav-text">211. Add and Search Word - Data structure design</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#85-20-81-82-25mins"><span class="nav-number">2.18.1.</span> <span class="nav-text">85.20 81.82 25mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#304-Range-Sum-Query-2D-Immutable"><span class="nav-number">2.19.</span> <span class="nav-text">304. Range Sum Query 2D - Immutable</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#43-84-100-00-20mins"><span class="nav-number">2.19.1.</span> <span class="nav-text">43.84 100.00 20mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#311-Sparse-Matrix-Multiplication"><span class="nav-number">2.20.</span> <span class="nav-text">311. Sparse Matrix Multiplication</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#25-55-100-00-6mins"><span class="nav-number">2.20.1.</span> <span class="nav-text">25.55 100.00 6mins</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#44-08-100-00"><span class="nav-number">2.20.2.</span> <span class="nav-text">44.08 100.00</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#438-Find-All-Anagrams-in-a-String"><span class="nav-number">2.21.</span> <span class="nav-text">438. Find All Anagrams in a String</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#22-89-88-00-TODO"><span class="nav-number">2.21.1.</span> <span class="nav-text">22.89 88.00 TODO</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#426-Convert-Binary-Search-Tree-to-Sorted-Doubly-Linked-List"><span class="nav-number">2.22.</span> <span class="nav-text">426. Convert Binary Search Tree to Sorted Doubly Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-6-90-18mins-TODO"><span class="nav-number">2.22.1.</span> <span class="nav-text">100.00 6.90 18mins TODO</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#670-Maximum-Swap"><span class="nav-number">2.23.</span> <span class="nav-text">670. Maximum Swap</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FAIL-1"><span class="nav-number">2.23.1.</span> <span class="nav-text">FAIL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34-Find-First-and-Last-Position-of-Element-in-Sorted-Array"><span class="nav-number">2.24.</span> <span class="nav-text">34. Find First and Last Position of Element in Sorted Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-97-16-25mins"><span class="nav-number">2.24.1.</span> <span class="nav-text">100 97.16 25mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#721-Accounts-Merge"><span class="nav-number">2.25.</span> <span class="nav-text">721. Accounts Merge</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FAIL-2"><span class="nav-number">2.25.1.</span> <span class="nav-text">FAIL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#并查集-60mins"><span class="nav-number">2.25.2.</span> <span class="nav-text">并查集 60mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#785-Is-Graph-Bipartite"><span class="nav-number">2.26.</span> <span class="nav-text">785. Is Graph Bipartite?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#32-82-63-42-29mins-TODO"><span class="nav-number">2.26.1.</span> <span class="nav-text">32.82 63.42 29mins TODO</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#958-Check-Completeness-of-a-Binary-Tree"><span class="nav-number">2.27.</span> <span class="nav-text">958. Check Completeness of a Binary Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11-74-100-00-50mins"><span class="nav-number">2.27.1.</span> <span class="nav-text">11.74 100.00 50mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#523-Continuous-Subarray-Sum"><span class="nav-number">2.28.</span> <span class="nav-text">523. Continuous Subarray Sum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#26-60-88-24-19mins"><span class="nav-number">2.28.1.</span> <span class="nav-text">26.60 88.24 19mins</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hashMap-做法"><span class="nav-number">2.28.2.</span> <span class="nav-text">hashMap 做法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1027-Longest-Arithmetic-Sequence"><span class="nav-number">2.29.</span> <span class="nav-text">1027. Longest Arithmetic Sequence</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-08-100-00-60mins"><span class="nav-number">2.29.1.</span> <span class="nav-text">5.08 100.00 60mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#825-Friends-Of-Appropriate-Ages"><span class="nav-number">2.30.</span> <span class="nav-text">825. Friends Of Appropriate Ages</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TLE-9mins"><span class="nav-number">2.30.1.</span> <span class="nav-text">TLE 9mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#314-Binary-Tree-Vertical-Order-Traversal"><span class="nav-number">2.31.</span> <span class="nav-text">314. Binary Tree Vertical Order Traversal</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#WRONG-ANSWER"><span class="nav-number">2.31.1.</span> <span class="nav-text">WRONG ANSWER</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BFS-7-02-100-00"><span class="nav-number">2.31.2.</span> <span class="nav-text">BFS 7.02 100.00</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#863-All-Nodes-Distance-K-in-Binary-Tree"><span class="nav-number">2.32.</span> <span class="nav-text">863. All Nodes Distance K in Binary Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FAIL-61-12-100-00-44mins"><span class="nav-number">2.32.1.</span> <span class="nav-text">FAIL 61.12 100.00 44mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#416-Partition-Equal-Subset-Sum"><span class="nav-number">2.33.</span> <span class="nav-text">416. Partition Equal Subset Sum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FAIL-3"><span class="nav-number">2.33.1.</span> <span class="nav-text">FAIL</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#EASY"><span class="nav-number">3.</span> <span class="nav-text">EASY</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#283-Move-Zeroes"><span class="nav-number">3.1.</span> <span class="nav-text">283. Move Zeroes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-98-60-7-5min"><span class="nav-number">3.1.1.</span> <span class="nav-text">100.00% 98.60% 7.5min</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#157-Read-N-Characters-Given-Read4"><span class="nav-number">3.2.</span> <span class="nav-text">157. Read N Characters Given Read4</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-100-00-17min"><span class="nav-number">3.2.1.</span> <span class="nav-text">100.00% 100.00% 17min</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#278-First-Bad-Version"><span class="nav-number">3.3.</span> <span class="nav-text">278. First Bad Version</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#99-48-100-00-20min"><span class="nav-number">3.3.1.</span> <span class="nav-text">99.48% 100.00% 20min</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#125-Valid-Palindrome"><span class="nav-number">3.4.</span> <span class="nav-text">125. Valid Palindrome</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#96-21-92-86-20mins"><span class="nav-number">3.4.1.</span> <span class="nav-text">96.21 92.86 20mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-Two-Sum"><span class="nav-number">3.5.</span> <span class="nav-text">1. Two Sum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#98-89-98-95-10mins"><span class="nav-number">3.5.1.</span> <span class="nav-text">98.89 98.95 10mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#88-Merge-Sorted-Array"><span class="nav-number">3.6.</span> <span class="nav-text">88. Merge Sorted Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-100-00-15min"><span class="nav-number">3.6.1.</span> <span class="nav-text">100.00 100.00 15min</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#350-Intersection-of-Two-Arrays-II"><span class="nav-number">3.7.</span> <span class="nav-text">350. Intersection of Two Arrays II</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#17-64-83-87-10mins"><span class="nav-number">3.7.1.</span> <span class="nav-text">17.64 83.87 10mins</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#91-22-33-87"><span class="nav-number">3.7.2.</span> <span class="nav-text">91.22 33.87</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#953-Verifying-an-Alien-Dictionary"><span class="nav-number">3.8.</span> <span class="nav-text">953. Verifying an Alien Dictionary</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#100-00-100-00-17mins"><span class="nav-number">3.8.1.</span> <span class="nav-text">100.00 100.00 17mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#543-Diameter-of-Binary-Tree"><span class="nav-number">3.9.</span> <span class="nav-text">543. Diameter of Binary Tree</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TODO-13-73-19-48-20mins"><span class="nav-number">3.9.1.</span> <span class="nav-text">TODO: 13.73 19.48 20mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#680-Valid-Palindrome-II"><span class="nav-number">3.10.</span> <span class="nav-text">680. Valid Palindrome II</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#TODO-9-68-97-22-11mins"><span class="nav-number">3.10.1.</span> <span class="nav-text">TODO: 9.68 97.22 11mins</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#415-Add-Strings"><span class="nav-number">3.11.</span> <span class="nav-text">415. Add Strings</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#37-64-100-00-8mins"><span class="nav-number">3.11.1.</span> <span class="nav-text">37.64 100.00 8mins</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">lawlietxxl</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lawlietxxl</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://lawlietxxl.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: {page: {
            url: "https://blog.lawlietxxl.site/facebook-problems.html",
            identifier: "facebook-problems.html",
            title: "facebook problems"
          }
        }
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://lawlietxxl.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
